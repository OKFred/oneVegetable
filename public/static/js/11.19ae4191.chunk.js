(this["webpackJsonperp-dashboard"]=this["webpackJsonperp-dashboard"]||[]).push([[11],{323:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={enUS:{folder:{currentFolder:"please select",needFolderName:"please input name for new folder",addNewFolder:"add new folder",folderNull:"folder not found",dataNull:"data not found",folderRequired:"please select a folder to continue"},table:{tableHeader:"Products",categoryName:"category name",productId:"product id",subject:"subject",status:"status",display:"display",id:"id",is_rts:"RTS",is_specific:"specific",owner_member_display_name:"owner",product_type:"type",smart_edit:"smart edit",attributes:"attributes",keywords:"keywords",price:"price (range)",payment_methods:"payment methods",min_order_quantity:"min order quantity(MOQ)",unit_type:"unit type",gmt_create:"date create",gmt_modified:"date modified",score:"score",tag:"tag"},tableToolbar:{menuHide:"hide menu",menuShow:"show menu",productScore:"scores",productDisplayOn:"in-stock",productDisplayOff:"out-stock",productUpdate:"update",productEdit:"edit"},form:{KeyInformation:"key information",ProductAttributes:"product attributes",Advanced:"advanced",subject:"128 letters max.",category:"click to change category",keywords:"3 keywords max. Comma(,) separated",price:"set price (range)",payment_methods:"payment methods such as T/T, L/C, etc.",min_order_quantity:"optional",attributes:"add or delete",attributeMissing:"attribute missing",attributeDuplicated:"attribute duplicated",selectOrInput:"select or input",pieces:"pieces"},steps:{first:"Edit Attributes",second:"Edit Contents",finally:"Preview & Publish",previous:"Previous",next:"Next",complete:"Complete",addProduct:"Add Product",productIdError:"product id error, pls go back & try again",categoryError:"category error, pls try again",editPrice:"Edit Price",choosePhotos:"Choose Photos",uploadPhotos:"Upload Photos",removePhotos:"double click to remove the photo",photoUploadTip:"If it cannot be updated, please remove ALL photos and try again",productDescriptionTip:"Tips: \u2460 If it cannot be updated, please remove ALL contents and try again. \u2461Click the red button below \ud83d\udc47 to unlock photo resizing",mainPhotoRequired:"Need at least one photo",descriptionOverflow:"description length shall be smaller than 60k letters",panel1:"subject, keywords, price, MOQ...",panel2:"all kinds of attributes...",panel3:"additional information...",addAttributes:"Add Attributes",removeAttributes:"Remove Attributes",modificationNull:"No modification made",addCustomInfo:"Add Custom Info",modificationDone:"Will submit the following modifications:",numberOnly:"Please input number only",uploadSuccess:"Upload Success",productScoreError:"no score found"},productScore:{basic:"Basic",potential:"Potential",super:"Super",top:"Top"},common:{yes:"OK",no:"Cancel",success:"Success",netFail:"request failed"}},zhCN:{folder:{currentFolder:"\u8bf7\u9009\u62e9",needFolderName:"\u8bf7\u586b\u5199\u6587\u4ef6\u5939\u540d",addNewFolder:"\u65b0\u5efa\u6587\u4ef6\u5939",folderNull:"\u6587\u4ef6\u5939\u4e0d\u5b58\u5728",dataNull:"\u6570\u636e\u4e0d\u5b58\u5728",folderRequired:"\u8bf7\u9009\u62e9\u6587\u4ef6\u5939"},table:{tableHeader:"\u4ea7\u54c1",categoryName:"\u7c7b\u76ee",productId:"\u4ea7\u54c1 id",subject:"\u6807\u9898",status:"\u5ba1\u6838\u72b6\u6001",display:"\u4e0a\u67b6\u72b6\u6001",id:"id",is_rts:"RTS",is_specific:"\u89c4\u683c\u54c1",owner_member_display_name:"\u8d1f\u8d23\u4eba",product_type:"\u5546\u54c1\u7c7b\u578b",smart_edit:"\u667a\u80fd\u7f16\u8f91",attributes:"\u5c5e\u6027",keywords:"\u5173\u952e\u8bcd",price:"\u4ef7\u683c(\u533a\u95f4)",payment_methods:"\u652f\u4ed8\u65b9\u5f0f",min_order_quantity:"\u6700\u5c0f\u8d77\u8ba2\u91cf(MOQ)",unit_type:"\u5355\u4f4d",gmt_create:"\u521b\u5efa\u65e5\u671f",gmt_modified:"\u4fee\u6539\u65e5\u671f",score:"\u4ea7\u54c1\u5206",tag:"\u6807\u7b7e"},tableToolbar:{menuHide:"\u9690\u85cf\u83dc\u5355",menuShow:"\u663e\u793a\u83dc\u5355",productScore:"\u4ea7\u54c1\u5206",productDisplayOn:"\u4e0a\u67b6",productDisplayOff:"\u4e0b\u67b6",productUpdate:"\u66f4\u65b0",productEdit:"\u7f16\u8f91"},form:{KeyInformation:"\u57fa\u672c\u4fe1\u606f",ProductAttributes:"\u4ea7\u54c1\u5c5e\u6027",Advanced:"\u66f4\u591a\u8bbe\u7f6e",subject:"128 \u5b57\u7b26\u4ee5\u5185",category:"\u70b9\u51fb\u66f4\u6362\u7c7b\u76ee",keywords:"\u6700\u591a\u4e09\u4e2a\u5173\u952e\u8bcd\uff0c\u7528\u82f1\u6587\u9017\u53f7(,)\u5206\u9694",price:"\u8bbe\u7f6e\u4ef7\u683c(\u533a\u95f4)",payment_methods:"\u652f\u4ed8\u65b9\u5f0f\uff0c\u4f8b\u5982\uff1aT/T\uff0cL/C\uff0c\u7b49",min_order_quantity:"\u9009\u586b",attributes:"\u53ef\u589e\u53ef\u51cf",attributeMissing:"\u5c5e\u6027\u7f3a\u5931",attributeDuplicated:"\u5c5e\u6027\u91cd\u590d",selectOrInput:"\u9009\u62e9\u6216\u8f93\u5165",pieces:"\u4ef6"},steps:{first:"\u5c5e\u6027\u7f16\u8f91",second:"\u8be6\u60c5\u7f16\u8f91",finally:"\u9884\u89c8&\u53d1\u5e03",previous:"\u4e0a\u4e00\u6b65",next:"\u4e0b\u4e00\u6b65",complete:"\u5b8c\u6210",addProduct:"\u53d1\u5e03\u4ea7\u54c1",productIdError:"\u4ea7\u54c1 id \u9519\u8bef\uff0c\u8bf7\u8fd4\u56de\u91cd\u8bd5",categoryError:"\u7c7b\u76ee\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9",editPrice:"\u7f16\u8f91\u4ef7\u683c",choosePhotos:"\u9009\u62e9\u56fe\u7247",uploadPhotos:"\u4e0a\u4f20\u56fe\u7247",removePhotos:"\u53cc\u51fb\u79fb\u9664\u56fe\u7247",photoUploadTip:"\u82e5\u65e0\u6cd5\u66f4\u65b0\uff0c\u8bf7\u6e05\u9664\u6240\u6709\u56fe\u7247\u540e\u91cd\u8bd5",productDescriptionTip:"\u63d0\u793a: \u2460\u82e5\u65e0\u6cd5\u66f4\u65b0\uff0c\u8bf7\u6e05\u9664\u6240\u6709\u8be6\u60c5\u540e\u91cd\u8bd5 \u2461\u539f\u5148\u662f\u667a\u80fd\u7f16\u8f91\u7684\u60c5\u51b5\u4e0b\uff0c\u987b\u70b9\u51fb\u4e0b\u65b9\u7ea2\u8272\u6309\u94ae\u89e3\u9501\u56fe\u7247\u7f29\u653e\ud83d\udc47",mainPhotoRequired:"\u9700\u8981\u4fdd\u7559\u81f3\u5c11\u4e00\u5f20\u4e3b\u56fe",descriptionOverflow:"\u63cf\u8ff0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc76\u4e07\u5b57\u7b26",panel1:"\u6807\u9898\uff0c\u5173\u952e\u8bcd\uff0c\u4ef7\u683c\uff0cMOQ...",panel2:"\u5404\u7c7b\u5c5e\u6027...",panel3:"\u9644\u52a0\u4fe1\u606f...",addAttributes:"\u6dfb\u52a0\u5c5e\u6027",removeAttributes:"\u79fb\u9664\u7a7a\u767d\u5c5e\u6027",addCustomInfo:"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4fe1\u606f",modificationNull:"\u6ca1\u6709\u4efb\u4f55\u4fee\u6539",modificationDone:"\u5c06\u63d0\u4ea4\u5982\u4e0b\u5185\u5bb9:",numberOnly:"\u8bf7\u8f93\u5165\u6570\u5b57",uploadSuccess:"\u4e0a\u4f20\u6210\u529f",productScoreError:"\u4ea7\u54c1\u5206\u672a\u67e5\u5230"},productScore:{basic:"\u4f4e\u8d28\u54c1",potential:"\u666e\u901a\u54c1",super:"\u5b9e\u529b\u4f18\u54c1",top:"\u7cbe\u54c1"},common:{yes:"\u786e\u5b9a",no:"\u53d6\u6d88",success:"\u64cd\u4f5c\u6210\u529f",netFail:"\u8bf7\u6c42\u5931\u8d25"}}}},332:function(e,t,r){"use strict";var n=r(282),a=r(364),o=r(152),c=r(401),i=r(392),s=r(393),u=r(6),d=r(52),l=r(391),p=r(1),b=Object(u.a)(n.a)((function(){var e=l.a[100];return{backgroundColor:e,height:40,"&:hover, &:focus":{backgroundColor:Object(d.c)(e,.06)},"&:active":{boxShadow:10,backgroundColor:Object(d.c)(e,.12)}}}));t.a=function(e){var t=e.localization,r=e.categories,n=e.menuRef,u=e.menuState,d=e.showMenu,l=e.closeMenu,f=u.menuArr,m=u.anchorEl;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.a,{sx:{display:"inline-flex",paddingTop:"10px"},children:r.map((function(e,r){if(r>0)return Object(p.jsx)(b,{sx:u.menuLevel===r?{display:"none"}:{},component:"a",href:"#",label:"zhCN"!==t.locale?e.name:e.cn_name,icon:1===r?Object(p.jsx)(i.a,{}):void 0,deleteIcon:Object(p.jsx)(s.a,{}),onDelete:function(){return d(r)}},e.category_id)}))}),Object(p.jsx)("span",{ref:n}),Object(p.jsx)("div",{children:Object(p.jsx)(o.a,{anchorEl:m,open:Boolean(m),onClose:function(){return l()},children:f.map((function(e){return Object(p.jsx)(c.a,{onClick:function(){return l(e.category_id)},children:"zhCN"!==t.locale?e.name:e.cn_name},e.category_id)}))})})]})}},333:function(e,t,r){"use strict";var n=r(16),a=r(85),o=r(289),c=r(399),i=r(213),s=r(293),u=r(330),d=r(331),l=r(1);t.a=function(e){var t=e.langPack,r=e.productModified,p=e.modificationSubmission,b=Object(n.f)(),f=Object.keys(r);return Object(l.jsxs)(l.Fragment,{children:[f.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(a.a,{variant:"h3",children:t.steps.modificationDone}),Object(l.jsx)(o.a,{children:f.map((function(e){return Object(l.jsxs)(c.a,{children:["--",e]},e)}))})]}):Object(l.jsx)(a.a,{variant:"h3",children:t.steps.modificationNull}),Object(l.jsx)("br",{}),Object(l.jsx)(i.a,{}),Object(l.jsxs)("div",{align:"right",children:[Object(l.jsx)(s.a,{startIcon:Object(l.jsx)(u.a,{}),onClick:p,children:t.common.yes}),Object(l.jsx)(s.a,{startIcon:Object(l.jsx)(d.a,{}),onClick:function(){return b("/product")},children:t.common.no})]})]})}},431:function(e,t,r){"use strict";r.r(t);var n=r(18),a=r(35),o=r.n(a),c=r(107),i=r(53),s=r(13),u=r(0),d=r(22),l=r(16),p=r(85),b=r(213),f=r(87),m=r(323),h=r(332),j=r(333),y=r(1),O={};t.default=function(){console.log("productEdit app running");var e=Object(d.c)((function(e){return e.localization})),t=Object(d.c)((function(e){return e.globalization})),r=Object(u.useState)(m.a[e.locale]),a=Object(s.a)(r,2),g=a[0],x=a[1],v=Object(u.useState)(t.baseData.loginData),_=Object(s.a)(v,1)[0],k=Object(l.f)(),w=Object(u.useState)(0),S=Object(s.a)(w,2),P=(S[0],S[1],Object(u.useState)({panel1:!0,panel2:!1,panel3:!1,panel4:!1})),C=Object(s.a)(P,2),A=(C[0],C[1],location.pathname.replace("/product/draft/","")),N=Object(u.useState)({}),q=Object(s.a)(N,2),E=(q[0],q[1],Object(u.useState)([])),I=Object(s.a)(E,2),R=(I[0],I[1],Object(u.useState)([])),D=Object(s.a)(R,2),F=(D[0],D[1],Object(u.useState)("")),T=Object(s.a)(F,2),M=(T[0],T[1],Object(u.useState)(0)),L=Object(s.a)(M,2),z=L[0],Q=L[1],U=Object(u.useState)([]),H=Object(s.a)(U,2),K=(H[0],H[1],Object(u.useState)([])),B=Object(s.a)(K,2),J=B[0],V=B[1],W=[],G=Object(u.useRef)(null),X=Object(u.useState)({menuLevel:void 0,menuValue:void 0,menuArr:[],anchorEl:null}),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1];function ee(){return(ee=Object(i.a)(o.a.mark((function t(r){var n,a,c,i,s,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ma.productAddDraftQuery(r),t.next=3,fetchAPI(n);case 3:if((a=t.sent).response.status){t.next=6;break}return t.abrupt("return",queryResult(!1,g.common.netFail+"\n"+a.response.result));case 6:if(c=ma.productAddDraftCheck(a),i=c.response,s=i.status,u=i.result,s){t.next=10;break}return t.abrupt("return",queryResult(s,u));case 10:if(u.product_id){t.next=12;break}return t.abrupt("return",queryResult(!1,g.common.netFail));case 12:if("zhCN"===e.locale){t.next=14;break}return t.abrupt("return",queryResult(!0,"saved to draft, editing not yet supported.\ud83e\udd2f Keep in touch..."));case 14:return t.abrupt("return",queryResult(s,"\u5df2\u5b58\u5165\u8349\u7a3f\u7bb1\uff0c\u6682\u4e0d\u652f\u6301\u7f16\u8f91\uff0c\u656c\u8bf7\u671f\u5f85...\ud83e\udd2f"));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return(re=Object(i.a)(o.a.mark((function e(t){var r,n,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma.productCategoryQuery(t),e.next=3,fetchAPI(r);case 3:if((n=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,g.common.netFail+"\n"+n.response.result));case 6:if(a=ma.productCategoryCheck(n),c=a.response,i=c.status,s=c.result,i){e.next=10;break}return e.abrupt("return",queryResult(i,s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(i.a)(o.a.mark((function e(t){var r,n,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma.productCategoryAttributeQuery(t),e.next=3,fetchAPI(r);case 3:if((n=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,g.common.netFail+"\n"+n.response.result));case 6:if(a=ma.productCategoryAttributeCheck(n),c=a.response,i=c.status,s=c.result,i){e.next=10;break}return e.abrupt("return",queryResult(i,s));case 10:return console.log(s),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(i.a)(o.a.mark((function e(t,r){var a,c,i,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=11;break}return e.next=3,te({cat_id:t});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:return c=a.level,i=a.parent_ids,W.length||(W=new Array(c)),W[c]=a,c>0&&i&&i.number?ae(i.number[0]):V(W),e.abrupt("return");case 11:if(s=J[r-1].child_ids.number.find((function(e){return e.category_id===t}))){e.next=14;break}return e.abrupt("return");case 14:return u=s.child_ids,(d=Object(n.a)(J))[r]=s,r+1<d.length&&(d.length=r+1),u&&(d.push({category_id:0}),W=d,ce(d.length-1)),e.abrupt("return",V(d));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(u.useEffect)((function(){if(J.length){var e=J[J.length-1].category_id;Q(e),e&&(!function(e){ne.apply(this,arguments)}({cat_id:e}),O.category_id=e)}}),[J]),Object(u.useEffect)((function(){x(m.a[e.locale])}),[e.locale]),Object(u.useEffect)((function(){return console.log("I want product drafting"),_?(ae(153710),function(){O={},console.log("I leave product draft")}):k("/")}),[]);var ce=function(){var e=Object(i.a)(o.a.mark((function e(t){var r,n,a,i,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=W.length?W:J,n=r[t].category_id,a=r[t-1].child_ids.number,i=Object(c.a)(a),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=16;break}if("object"!==typeof(u=s.value)){e.next=10;break}return e.abrupt("break",16);case 10:return e.next=12,te({cat_id:u});case 12:d=e.sent,a[a.indexOf(u)]=d;case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:$({menuLevel:t,menuValue:n,menuArr:a,anchorEl:G.current});case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(f.a,{title:"Product Draft --\u4ea7\u54c1\u8349\u7a3f",children:[Object(y.jsxs)(p.a,{variant:"h2",children:[Object(y.jsx)("span",{role:"img","aria-label":"hint",children:"\ud83d\udc47"}),g.form.category]}),Object(y.jsx)("br",{}),Object(y.jsx)(h.a,{localization:e,categories:J,menuRef:G,menuState:Z,showMenu:ce,closeMenu:function(e){var t=Z.menuLevel;$({menuArr:[],anchorEl:null}),console.log(e),void 0!==e&&e!==z&&ae(e,t)}}),Object(y.jsx)(b.a,{sx:{marginBottom:"50px"}}),Object(y.jsx)("br",{}),Object(y.jsx)(j.a,{langPack:g,productModified:O,modificationSubmission:function(){if(!Object.keys(O).length)return queryResult(!1,g.steps.modificationNull);if(!J.length||0===J[J.length-1].category_id||J[J.length-1].child_ids)return queryResult(!1,g.steps.categoryError);for(var e={group_id:A,product_type:"sourcing"},t=0,r=Object.entries(O);t<r.length;t++){var n=Object(s.a)(r[t],2),a=n[0],o=n[1];e[a]="object"==typeof o?JSON.stringify(o):o}console.log(e),function(e){ee.apply(this,arguments)}(e)}})]})}}}]);
//# sourceMappingURL=11.19ae4191.chunk.js.map