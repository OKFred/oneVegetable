{"version":3,"sources":["views/product/Languages.js","views/product/component/EditStep.js","views/product/component/ProductCategory.js","views/product/component/PhotoGallery.js","views/product/component/ProductAttribute.js","views/product/component/ProductDetail.js","views/product/component/Confirmation.js","views/product/ProductEdit.js"],"names":["Languages","enUS","folder","currentFolder","needFolderName","addNewFolder","folderNull","dataNull","table","tableHeader","categoryName","productId","subject","status","display","attributes","keywords","price","min_order_quantity","unit_type","gmt_create","gmt_modified","tableToolbar","menuHide","menuShow","productDisplayOn","productDisplayOff","productEdit","form","KeyInformation","ProductAttributes","category","attributeMissing","attributeDuplicated","pieces","steps","first","second","finally","previous","next","complete","editPrice","choosePhotos","uploadPhotos","removePhotos","mainPhotoRequired","descriptionOverflow","addAttributes","removeAttributes","modificationNull","modificationDone","common","yes","no","netFail","zhCN","EditStep","langPack","activeStep","setActiveStep","useState","Stepper","map","label","Step","StepLabel","ButtonGroup","variant","color","disableElevation","sx","flexDirection","pt","paddingBottom","Button","disabled","onClick","prevActiveStep","mr","Box","flex","length","BreadChip","styled","Chip","backgroundColor","grey","height","emphasize","boxShadow","ProductCategory","localization","categories","menuRef","menuState","showMenu","closeMenu","menuArr","anchorEl","Breadcrumbs","paddingTop","obj","index","menuLevel","component","href","locale","name","cn_name","icon","Home","undefined","deleteIcon","ExpandMore","onDelete","category_id","ref","Menu","open","Boolean","onClose","MenuItem","srcset","url","width","rows","cols","ext","exec","src","srcSet","PhotoGallery","finalImageArr","imageSizing","photoCols","rowHeight","uploaderRef","imageBtnTitle","onDoubleClickImageBtn","onPhotoSelected","ImageList","marginTop","marginBottom","gap","ImageListItem","alt","loading","ImageListItemBar","background","title","position","actionIcon","Tooltip","IconButton","onDoubleClick","StarBorder","actionPosition","FormControlLabel","control","Input","type","inputProps","multiple","AddPhotoAlternate","onChange","startIcon","current","click","sourcing_trade","allAttributeArr","finalAttributeArr","onAttributeModified","onAttributeClear","onAttributeConfirm","addAttribute","setAddAttribute","attributeSelected","setAttributeSelected","attributeOptionArr","setAttributeOptionArr","style","Typography","Divider","TextField","margin","fullWidth","id","defaultValue","e","target","value","String","string","InputProps","startAdornment","InputAdornment","fob_currency","fob_max_price","fob_min_price","v","trim","replace","splitter","test","prices","split","Number","endAdornment","min_order_unit_type","select","minWidth","padding","attr_id","attributeObj","find","console","log","optionArr","attribute_values","attribute_value","option","en_name","attr_value","attr_value_id","optionObj","prev","Object","assign","Check","Cancel","Add","attribute_name","value_name","attribute_id","ProductDetail","finalDescription","setFinalDescription","editor","useRef","config","language","enter","defaultActionOnPaste","toolbarAdaptive","buttons","iconURL","tooltip","textNearby","html","htmlCodes","line","join","events","paste","items","clipboardData","beforePasteInsert","text","tabIndex","onBlur","newContent","Confirmation","modificationSubmission","navigate","useNavigate","align","productInfoModified","App","useSelector","state","globalization","setLangPack","baseData","loginData","product_id","location","pathname","productInfo","setProductInfo","setFinalAttributeArr","setFinalImageArr","finalCatId","setFinalCatId","setCategories","categoryArr","menuValue","setMenuState","useMediaQuery","useTheme","breakpoints","down","setAllAttributeArr","photoFile","a","paramObj","ma","photoUploadQuery","file_name","image_bytes","group_id","fetchAPI","method","msg","response","queryResult","res","photoUploadCheck","result","photobank_url","productUpdateQuery","productUpdateCheck","productDetailQuery","productDetailCheck","product_attribute","attributeArr","sort","b","main_image","images","description","getAllCategories","getCategoryInfo","productCategoryQuery","productCategoryCheck","productCategoryAttributeQuery","productCategoryAttributeCheck","category_level","cat_id","categoryResult","level","parent_ids","Array","number","child_ids","newCategories","push","useEffect","getCategoryAttributeInfo","getProductInfo","latestCategories","childIdsArr","indexOf","files","file","ModificationConfirmation","modifiedKeys","keys","List","key","ListItem","MainCard","filter","imageUrl","ProductAttribute","input_type","value_id","searchKey","newArr","newData","oldArr","oldIndex","findIndex","data","arrayDataReplacer","product_type","priceUnit","dataObj","entries","k","JSON","stringify","updateProductInfo"],"mappings":"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","file":"static/js/10.7a01919b.chunk.js","sourcesContent":["let Languages = {\r\n    enUS: {\r\n        folder: {\r\n            currentFolder: 'please select',\r\n            needFolderName: 'please input name for new folder',\r\n            addNewFolder: 'add new folder',\r\n            folderNull: 'folder not found',\r\n            dataNull: 'data not found'\r\n        },\r\n        table: {\r\n            tableHeader: 'Products',\r\n            categoryName: 'category name',\r\n            productId: 'product id',\r\n            subject: 'subject',\r\n            status: 'status',\r\n            display: 'display',\r\n            attributes: 'attributes',\r\n            keywords: 'keywords',\r\n            price: 'price (range)',\r\n            min_order_quantity: 'min order quantity(MOQ)',\r\n            unit_type: 'unit type',\r\n            gmt_create: 'date create',\r\n            gmt_modified: 'date modified'\r\n        },\r\n        tableToolbar: {\r\n            menuHide: 'hide menu',\r\n            menuShow: 'show menu',\r\n            productDisplayOn: 'in-stock',\r\n            productDisplayOff: 'out-stock',\r\n            productEdit: 'edit'\r\n        },\r\n        form: {\r\n            KeyInformation: 'key information',\r\n            ProductAttributes: 'product attributes',\r\n            subject: '128 letters max.',\r\n            category: 'click to change category',\r\n            keywords: '3 keywords max. Comma(,) separated',\r\n            price: 'set price (range)',\r\n            min_order_quantity: 'optional',\r\n            attributes: 'add or delete',\r\n            attributeMissing: 'attribute missing',\r\n            attributeDuplicated: 'attribute duplicated',\r\n            pieces: 'pieces'\r\n        },\r\n        steps: {\r\n            first: 'Edit Attributes',\r\n            second: 'Edit Contents',\r\n            finally: 'Preview & Publish',\r\n            previous: 'Previous',\r\n            next: 'Next',\r\n            complete: 'Complete',\r\n            editPrice: 'Edit Price',\r\n            choosePhotos: 'Choose Photos',\r\n            uploadPhotos: 'Upload Photos',\r\n            removePhotos: 'double click to remove the photo',\r\n            mainPhotoRequired: 'Need at least one photo',\r\n            descriptionOverflow: 'description length shall be smaller than 60k letters',\r\n            addAttributes: 'Add Attributes',\r\n            removeAttributes: 'Remove Attributes',\r\n            modificationNull: 'No modification made',\r\n            modificationDone: 'Will submit the following modifications:'\r\n        },\r\n        common: {\r\n            yes: 'OK',\r\n            no: 'Cancel',\r\n            netFail: 'request failed'\r\n        }\r\n    },\r\n    zhCN: {\r\n        folder: {\r\n            currentFolder: '请选择',\r\n            needFolderName: '请填写文件夹名',\r\n            addNewFolder: '新建文件夹',\r\n            folderNull: '文件夹不存在',\r\n            dataNull: '数据不存在'\r\n        },\r\n        table: {\r\n            tableHeader: '产品',\r\n            categoryName: '类目',\r\n            productId: '产品 id',\r\n            subject: '标题',\r\n            status: '审核状态',\r\n            display: '上架状态',\r\n            attributes: '属性',\r\n            keywords: '关键词',\r\n            price: '价格(区间)',\r\n            min_order_quantity: '最小起订量(MOQ)',\r\n            unit_type: '单位',\r\n            gmt_create: '创建日期',\r\n            gmt_modified: '修改日期'\r\n        },\r\n        tableToolbar: {\r\n            menuHide: '隐藏菜单',\r\n            menuShow: '显示菜单',\r\n            productDisplayOn: '上架',\r\n            productDisplayOff: '下架',\r\n            productEdit: '编辑'\r\n        },\r\n        form: {\r\n            KeyInformation: '基本信息',\r\n            ProductAttributes: '产品属性',\r\n            subject: '128 字符以内',\r\n            category: '点击更换类目',\r\n            keywords: '最多三个关键词，用英文逗号(,)分隔',\r\n            price: '设置价格(区间)',\r\n            min_order_quantity: '选填',\r\n            attributes: '可增可减',\r\n            attributeMissing: '属性缺失',\r\n            attributeDuplicated: '属性重复',\r\n            pieces: '件'\r\n        },\r\n        steps: {\r\n            first: '属性编辑',\r\n            second: '详情编辑',\r\n            finally: '预览&发布',\r\n            previous: '上一步',\r\n            next: '下一步',\r\n            complete: '完成',\r\n            editPrice: '编辑价格',\r\n            choosePhotos: '选择图片',\r\n            uploadPhotos: '上传图片',\r\n            removePhotos: '双击移除图片',\r\n            mainPhotoRequired: '需要保留至少一张主图',\r\n            descriptionOverflow: '描述长度不能超过6万字符',\r\n            addAttributes: '添加属性',\r\n            removeAttributes: '移除空白属性',\r\n            modificationNull: '没有任何修改',\r\n            modificationDone: '将提交如下内容:'\r\n        },\r\n        common: {\r\n            yes: '确定',\r\n            no: '取消',\r\n            netFail: '请求失败'\r\n        }\r\n    }\r\n};\r\n\r\nexport { Languages };\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { Button, Box, Stepper, Step, StepLabel, ButtonGroup } from '@mui/material';\r\n\r\nfunction EditStep({ langPack, activeStep, setActiveStep }) {\r\n    const [steps] = useState([langPack.steps.first, langPack.steps.second, langPack.steps.finally]);\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    };\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Stepper activeStep={activeStep}>\r\n                {steps.map((label) => {\r\n                    return (\r\n                        <Step key={label}>\r\n                            <StepLabel>{label}</StepLabel>\r\n                        </Step>\r\n                    );\r\n                })}\r\n            </Stepper>\r\n            <ButtonGroup\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                disableElevation\r\n                sx={{ display: 'flex', flexDirection: 'row', pt: 2, paddingBottom: '10px' }}\r\n            >\r\n                <Button disabled={activeStep === 0} onClick={handleBack} sx={{ mr: 1 }}>\r\n                    {langPack.steps.previous}\r\n                </Button>\r\n                <Box sx={{ flex: '1 1 auto' }} />\r\n                <Button disabled={activeStep === 2} onClick={handleNext}>\r\n                    {activeStep === steps.length - 1 ? langPack.steps.complete : langPack.steps.next}\r\n                </Button>\r\n            </ButtonGroup>\r\n        </>\r\n    );\r\n}\r\n\r\nEditStep.propTypes = {\r\n    langPack: PropTypes.object,\r\n    activeStep: PropTypes.number,\r\n    setActiveStep: PropTypes.func\r\n};\r\n\r\nexport default EditStep;\r\n","import PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { Menu, MenuItem, Breadcrumbs, Chip } from '@mui/material';\r\nimport { Home as HomeIcon, ExpandMore as ExpandMoreIcon } from '@mui/icons-material';\r\nimport { emphasize, styled } from '@mui/material/styles';\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\n//styled components\r\nconst BreadChip = styled(Chip)(() => {\r\n    const backgroundColor = grey[100];\r\n    return {\r\n        backgroundColor,\r\n        height: 40,\r\n        '&:hover, &:focus': {\r\n            backgroundColor: emphasize(backgroundColor, 0.06)\r\n        },\r\n        '&:active': {\r\n            boxShadow: 10,\r\n            backgroundColor: emphasize(backgroundColor, 0.12)\r\n        }\r\n    };\r\n});\r\n\r\nfunction ProductCategory({ localization, categories, menuRef, menuState, showMenu, closeMenu }) {\r\n    //console.log('loading product category...');\r\n    let { menuArr, anchorEl } = menuState;\r\n    return (\r\n        <>\r\n            <Breadcrumbs sx={{ display: 'inline-flex', paddingTop: '10px' }}>\r\n                {categories.map((obj, index) => {\r\n                    if (index > 0)\r\n                        return (\r\n                            <BreadChip\r\n                                sx={menuState.menuLevel === index ? { display: 'none' } : {}}\r\n                                component=\"a\"\r\n                                href=\"#\"\r\n                                key={obj.category_id}\r\n                                label={localization.locale !== 'zhCN' ? obj.name : obj.cn_name}\r\n                                icon={index === 1 ? <HomeIcon /> : undefined}\r\n                                deleteIcon={<ExpandMoreIcon />}\r\n                                onDelete={() => showMenu(index)}\r\n                            />\r\n                        );\r\n                })}\r\n            </Breadcrumbs>\r\n            <span ref={menuRef}></span>\r\n            <div>\r\n                <Menu anchorEl={anchorEl} open={Boolean(anchorEl)} onClose={() => closeMenu()}>\r\n                    {menuArr.map((obj) => (\r\n                        <MenuItem key={obj.category_id} onClick={() => closeMenu(obj.category_id)}>\r\n                            {localization.locale !== 'zhCN' ? obj.name : obj.cn_name}\r\n                        </MenuItem>\r\n                    ))}\r\n                </Menu>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nProductCategory.propTypes = {\r\n    localization: PropTypes.object,\r\n    finalImageArr: PropTypes.array,\r\n    menuRef: PropTypes.object,\r\n    categories: PropTypes.array,\r\n    menuState: PropTypes.object,\r\n    showMenu: PropTypes.func,\r\n    closeMenu: PropTypes.func\r\n};\r\n\r\nexport default ProductCategory;\r\n","import PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { Button, FormControlLabel, ImageList, ImageListItem, ImageListItemBar, Input, IconButton, Tooltip } from '@mui/material';\r\nimport { StarBorder as StarBorderIcon, FileUpload as UploadIcon, AddPhotoAlternate as AddPhotoAlternateIcon } from '@mui/icons-material';\r\n\r\n//pure functions\r\nfunction srcset(url, width, height, rows, cols) {\r\n    let ext = /\\.(\\w{3,4})$/.exec(url)[0];\r\n    return {\r\n        src: `${url}_${width * cols}x${height * rows}${ext}`,\r\n        srcSet: `${url}_${width * cols * 2}x${height * rows * 2}${ext} 2x`\r\n    };\r\n}\r\n\r\nfunction PhotoGallery({\r\n    finalImageArr,\r\n    imageSizing,\r\n    photoCols,\r\n    rowHeight,\r\n    uploaderRef,\r\n    imageBtnTitle,\r\n    onDoubleClickImageBtn,\r\n    onPhotoSelected\r\n}) {\r\n    //console.log('loading photo gallery...');\r\n    let { width, height } = imageSizing;\r\n    return (\r\n        <ImageList cols={photoCols} rowHeight={rowHeight} sx={{ marginTop: '10px', marginBottom: '10px' }} variant=\"quilted\" gap={2}>\r\n            {finalImageArr.map((url, index) => {\r\n                return (\r\n                    <ImageListItem key={index} cols={1} rows={1}>\r\n                        <img {...srcset(url, width, height, 1, 1)} alt={index + 1} loading=\"lazy\" />\r\n                        <ImageListItemBar\r\n                            sx={{\r\n                                background: 'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, ' + 'rgba(0,0,0,0.3) 50%, rgba(0,0,0,0) 100%)'\r\n                            }}\r\n                            title={index + 1}\r\n                            position=\"top\"\r\n                            actionIcon={\r\n                                <Tooltip title={imageBtnTitle}>\r\n                                    <IconButton\r\n                                        sx={{ color: index ? 'yellow' : 'white' }}\r\n                                        aria-label={`star ${index + 1}`}\r\n                                        onDoubleClick={() => onDoubleClickImageBtn(url)}\r\n                                    >\r\n                                        <StarBorderIcon />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            }\r\n                            actionPosition=\"left\"\r\n                        />\r\n                    </ImageListItem>\r\n                );\r\n            })}\r\n            {finalImageArr.length < 6 ? (\r\n                <>\r\n                    <FormControlLabel\r\n                        sx={{ display: 'none' }}\r\n                        ref={uploaderRef}\r\n                        control={<Input type=\"file\" inputProps={{ multiple: true }} />}\r\n                        label={<AddPhotoAlternateIcon />}\r\n                        onChange={onPhotoSelected}\r\n                    />\r\n                    <Button startIcon={<UploadIcon />} onClick={() => uploaderRef.current.click()} key=\"uploader\"></Button>\r\n                </>\r\n            ) : null}\r\n        </ImageList>\r\n    );\r\n}\r\n\r\nPhotoGallery.propTypes = {\r\n    finalImageArr: PropTypes.array,\r\n    imageSizing: PropTypes.object,\r\n    photoCols: PropTypes.number,\r\n    cols: PropTypes.number,\r\n    rowHeight: PropTypes.number,\r\n    uploaderRef: PropTypes.object,\r\n    imageBtnTitle: PropTypes.string,\r\n    onDoubleClickImageBtn: PropTypes.func,\r\n    onPhotoSelected: PropTypes.func,\r\n    onClickImageBtn: PropTypes.func\r\n};\r\n\r\nexport default PhotoGallery;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { Typography, Button, InputAdornment, MenuItem, TextField, Divider, Tooltip } from '@mui/material';\r\nimport { Add as AddIcon, Check as CheckIcon, Cancel as CancelIcon, DeleteOutline as DeleteIcon } from '@mui/icons-material';\r\n\r\nfunction ProductAttributes({\r\n    langPack,\r\n    subject,\r\n    keywords,\r\n    sourcing_trade,\r\n    allAttributeArr,\r\n    finalAttributeArr,\r\n    onAttributeModified,\r\n    onAttributeClear,\r\n    onAttributeConfirm\r\n}) {\r\n    let [addAttribute, setAddAttribute] = useState(false); //需要添加属性吗\r\n    let [attributeSelected, setAttributeSelected] = useState(''); //当前选择的属性\r\n    let [attributeOptionArr, setAttributeOptionArr] = useState([]); //属性值列表（若有）\r\n\r\n    const onAttributeSelection = (e) => {\r\n        let attributeObj = allAttributeArr.find((obj) => obj.attr_id === e.target.value);\r\n        if (!attributeObj) return console.log('属性不属于该类目？');\r\n        setAttributeSelected(attributeObj);\r\n        let optionArr = attributeObj.attribute_values.attribute_value;\r\n        if (optionArr) setAttributeOptionArr(optionArr);\r\n        else setAttributeOptionArr([]);\r\n    }; //选择属性\r\n\r\n    const onAttributeOptionSelection = (e) => {\r\n        let optionObj = attributeOptionArr.find((obj) => obj.attr_value_id === e.target.value);\r\n        if (!optionObj) return console.log('选项不是该属性的选项？');\r\n        setAttributeSelected((prev) => {\r\n            return Object.assign({}, prev, { attr_value: optionObj });\r\n        });\r\n    }; //选择属性的可选项，若有，然后暂存\r\n    return (\r\n        <>\r\n            <div style={{ paddingTop: '10px', paddingBottom: '20px' }}>\r\n                <Typography variant=\"h2\" sx={{ color: 'orangered', display: 'inline' }}>\r\n                    {langPack.form.KeyInformation}\r\n                </Typography>\r\n            </div>\r\n            <Divider />\r\n            <br />\r\n            <Tooltip title={langPack.form.subject}>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    key={subject}\r\n                    id=\"subject\"\r\n                    variant=\"outlined\"\r\n                    label={<Typography variant=\"h3\">{langPack.table.subject}</Typography>}\r\n                    defaultValue={subject}\r\n                    onChange={(e) => onAttributeModified('subject', e.target.value)}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip title={langPack.form.keywords}>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    key={keywords}\r\n                    id=\"keywords\"\r\n                    variant=\"outlined\"\r\n                    label={<Typography variant=\"h3\">{langPack.table.keywords}</Typography>}\r\n                    defaultValue={keywords ? String(keywords.string) : ''}\r\n                    onChange={(e) => onAttributeModified('keywords', e.target.value)}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip title={langPack.form.price}>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    id=\"price\"\r\n                    variant=\"outlined\"\r\n                    key={sourcing_trade}\r\n                    label={<Typography variant=\"h3\">{langPack.table.price}</Typography>}\r\n                    InputProps={{\r\n                        startAdornment: (\r\n                            <InputAdornment position=\"start\">{sourcing_trade ? sourcing_trade.fob_currency : 'USD'}</InputAdornment>\r\n                        )\r\n                    }}\r\n                    defaultValue={\r\n                        sourcing_trade\r\n                            ? sourcing_trade.fob_max_price === sourcing_trade.fob_min_price\r\n                                ? sourcing_trade.fob_min_price\r\n                                : `${sourcing_trade.fob_min_price} ~ ${sourcing_trade.fob_max_price}`\r\n                            : ''\r\n                    }\r\n                    onChange={(e) => {\r\n                        let v = e.target.value;\r\n                        if (v.trim() === '')\r\n                            return onAttributeModified(\r\n                                'sourcing_trade',\r\n                                {\r\n                                    fob_min_price: ''\r\n                                },\r\n                                'object'\r\n                            );\r\n                        v = v.trim().replace(/\\s/g, '');\r\n                        let splitter = /~|-/g.test(v) ? '~' : '-';\r\n                        let prices = v.split(splitter);\r\n                        let fob_min_price = prices[0];\r\n                        let fob_max_price = prices[1];\r\n                        if (Number(fob_min_price) >= Number(fob_max_price)) fob_max_price = '';\r\n                        onAttributeModified('sourcing_trade', { fob_min_price, fob_max_price }, 'object');\r\n                    }}\r\n                />\r\n            </Tooltip>\r\n            <Tooltip title={langPack.form.min_order_quantity}>\r\n                <TextField\r\n                    margin=\"normal\"\r\n                    id=\"min_order_quantity\"\r\n                    variant=\"outlined\"\r\n                    key={sourcing_trade}\r\n                    label={<Typography variant=\"h3\">{langPack.table.min_order_quantity}</Typography>}\r\n                    defaultValue={sourcing_trade && sourcing_trade.min_order_quantity ? sourcing_trade.min_order_quantity : ''}\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                                {sourcing_trade ? sourcing_trade.min_order_unit_type : langPack.form.pieces}\r\n                            </InputAdornment>\r\n                        )\r\n                    }}\r\n                    onChange={(e) =>\r\n                        onAttributeModified(\r\n                            'sourcing_trade',\r\n                            {\r\n                                min_order_quantity: e.target.value || '1'\r\n                            },\r\n                            'object'\r\n                        )\r\n                    }\r\n                />\r\n            </Tooltip>\r\n            <br />\r\n            <br />\r\n            <div style={{ paddingTop: '10px', paddingBottom: '20px' }}>\r\n                <Typography variant=\"h2\" sx={{ color: 'darkorange', display: 'inline' }}>\r\n                    {langPack.form.ProductAttributes}\r\n                </Typography>\r\n                {addAttribute ? (\r\n                    <>\r\n                        {allAttributeArr.length ? (\r\n                            <>\r\n                                <TextField\r\n                                    id=\"add-attribute\"\r\n                                    select\r\n                                    sx={{\r\n                                        minWidth: '120px',\r\n                                        padding: '5px',\r\n                                        '& .MuiOutlinedInput-root': { height: '29px', padding: '1px' }\r\n                                    }}\r\n                                    value={attributeSelected && attributeSelected.attr_id ? attributeSelected.attr_id : ''}\r\n                                    onChange={onAttributeSelection}\r\n                                >\r\n                                    <MenuItem key=\"\" value=\"\" disabled />\r\n                                    {allAttributeArr.map((option) => (\r\n                                        <MenuItem key={option.attr_id} value={option.attr_id}>\r\n                                            {option.en_name}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </TextField>\r\n                                {attributeOptionArr.length ? (\r\n                                    <TextField\r\n                                        id=\"add-attribute-if-single-select\"\r\n                                        select\r\n                                        value={\r\n                                            attributeSelected.attr_value && attributeSelected.attr_value.attr_value_id\r\n                                                ? attributeSelected.attr_value.attr_value_id\r\n                                                : ''\r\n                                        }\r\n                                        onChange={onAttributeOptionSelection}\r\n                                        variant=\"standard\"\r\n                                    >\r\n                                        {attributeOptionArr.map((option) => (\r\n                                            <MenuItem key={String(option.attr_value_id)} value={option.attr_value_id}>\r\n                                                {option.en_name}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </TextField>\r\n                                ) : (\r\n                                    <></>\r\n                                )}\r\n                                <Button startIcon={<CheckIcon />} onClick={() => onAttributeConfirm(attributeSelected)}>\r\n                                    {langPack.common.yes}\r\n                                </Button>\r\n                                <Button startIcon={<CancelIcon />} onClick={() => setAddAttribute((prev) => !prev)}>\r\n                                    {langPack.common.no}\r\n                                </Button>\r\n                            </>\r\n                        ) : (\r\n                            <Typography variant=\"body1\">{langPack.form.attributeMissing}</Typography>\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <Tooltip title={langPack.steps.addAttributes}>\r\n                            <Button variant=\"standard\" onClick={() => setAddAttribute((prev) => !prev)}>\r\n                                <AddIcon />\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip title={langPack.steps.removeAttributes}>\r\n                            <Button variant=\"standard\" onClick={onAttributeClear}>\r\n                                <DeleteIcon />\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </>\r\n                )}\r\n            </div>\r\n            <Divider />\r\n            <br />\r\n            {finalAttributeArr.length &&\r\n                finalAttributeArr.map((obj) => (\r\n                    <Tooltip title={langPack.form.attributes} key={obj.value_name + obj.attribute_id}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            id={String(obj.attribute_name + obj.value_name)}\r\n                            variant=\"outlined\"\r\n                            label={<Typography variant=\"h3\">{obj.attribute_name}</Typography>}\r\n                            defaultValue={obj.value_name}\r\n                            onChange={(e) =>\r\n                                onAttributeModified(\r\n                                    'attributes',\r\n                                    {\r\n                                        attribute_id: obj.attribute_id,\r\n                                        attribute_name: obj.attribute_name,\r\n                                        //value_id: obj.value_id,\r\n                                        value_name: e.target.value\r\n                                    },\r\n                                    'array'\r\n                                )\r\n                            }\r\n                        />\r\n                    </Tooltip>\r\n                ))}\r\n        </>\r\n    );\r\n}\r\n\r\nProductAttributes.propTypes = {\r\n    langPack: PropTypes.object,\r\n    subject: PropTypes.string,\r\n    name: PropTypes.string,\r\n    gmt_modified: PropTypes.string,\r\n    status: PropTypes.string,\r\n    keywords: PropTypes.object,\r\n    sourcing_trade: PropTypes.object,\r\n    allAttributeArr: PropTypes.array,\r\n    finalAttributeArr: PropTypes.array,\r\n    onAttributeModified: PropTypes.func,\r\n    onAttributeClear: PropTypes.func,\r\n    onAttributeConfirm: PropTypes.func\r\n};\r\n\r\nexport default ProductAttributes;\r\n","/* eslint-disable jsx-a11y/tabindex-no-positive */\r\nimport { useRef } from 'react';\r\nimport JoditEditor from 'jodit-react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ProductDetail({ localization, finalDescription, setFinalDescription }) {\r\n    const editor = useRef(null);\r\n    const config = {\r\n        //全局变量\r\n        language: localization.locale === 'zhCN' ? 'zh_cn' : 'en_us',\r\n        enter: 'DIV',\r\n        defaultActionOnPaste: 'insert_clear_html',\r\n        toolbarAdaptive: false,\r\n        buttons: [\r\n            'source',\r\n            'bold',\r\n            'italic',\r\n            'underline',\r\n            'eraser',\r\n            'ul',\r\n            'ol',\r\n            'left',\r\n            'font',\r\n            'fontsize',\r\n            'brush',\r\n            'image',\r\n            'copyformat',\r\n            'copy',\r\n            'paste',\r\n            'table',\r\n            'link',\r\n            {\r\n                iconURL:\r\n                    'data:image/png;base64,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',\r\n                tooltip: 'Clear Image style',\r\n                exec: function (editor, textNearby, obj) {\r\n                    let html = editor.value;\r\n                    html = html.replace(/\\n/gi, ''); //inline\r\n                    html = html.replace(/>/gi, '>\\n'); //按照tag 换行\r\n                    let htmlCodes = html.split('\\n');\r\n                    htmlCodes = htmlCodes.map((line) => {\r\n                        if (!/<img src/gi.test(line)) return line;\r\n                        line = / class=\"magic-(\\d{1,3})x000\"/gi.test(line)\r\n                            ? line.replace(/x000/gi, '')\r\n                            : line.replace(/ class=\"magic-(\\d{1,3})\"/gi, ` class=\"magic-$1` + `x000\"`);\r\n                        return line;\r\n                    }); //去除smart editing 对图片的限制\r\n                    html = htmlCodes.join('');\r\n                    editor.value = html;\r\n                }\r\n            } /* ,\r\n            {\r\n                iconURL:\r\n                    'data:image/png;base64,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',\r\n                tooltip: '插入模板变量',\r\n                exec: function (editor, textNearby, obj) {\r\n                    let varSelected = obj.control.text || '客户姓名';\r\n                    let varObj = {\r\n                        贵司: '${company_name}',\r\n                        客户姓名: '${contacts}',\r\n                        客户邮箱: '${email}',\r\n                        销售姓名: '${salesManager}'\r\n                    };\r\n                    let myVar = varObj[varSelected];\r\n                    editor.selection.removeMarkers();\r\n                    const text = editor.createInside.element('span');\r\n                    text.innerHTML = myVar;\r\n                    editor.selection.insertNode(text);\r\n                    editor.setEditorValue(); // for syncronize value between source textarea and editor\r\n                },\r\n                list: {\r\n                    '${company_name}': '贵司',\r\n                    '${contacts}': '客户姓名',\r\n                    '${email}': '客户邮箱',\r\n                    '${salesManager}': '销售姓名'\r\n                }\r\n            } */\r\n        ],\r\n        events: {\r\n            paste: (e) => {\r\n                //粘贴动作发生时\r\n                console.log('粘贴...', e); //本地图片\r\n                let items = e.clipboardData && e.clipboardData.items;\r\n                if (!items || !items.length) return;\r\n                return console.log(items);\r\n                for (let i = 0; i < items.length; i++) {\r\n                    let item = items[i];\r\n                    if (item == null || item.type.match('image') == null) continue;\r\n                    let file = item.getAsFile();\r\n                    console.log(file);\r\n                    if (file == null) return console.log('无法获取图片');\r\n                    if (file.size > 10 * 1000 * 1000) return boots.queryResult(false, '图片文件大小不能超过10M');\r\n                    let fileObj = {\r\n                        name: file.name,\r\n                        size: file.size,\r\n                        url: URL.createObjectURL(file) //本地 blob url\r\n                    };\r\n                    thisInstance.uploadPic(fileObj); //'this' is not referred\r\n                } // 此时file就是剪切板中的图片文件\r\n            },\r\n            beforePasteInsert: (text) => {\r\n                console.log('粘贴内容植入前...'); //网络图片\r\n                return;\r\n                setTimeout(() => {\r\n                    editor.value = thisInstance.emailAddFilter(editor.value);\r\n                    console.log('过滤 & 替换');\r\n                    let imgs = document.images;\r\n                    for (let i = 0; i < imgs.length; i++) {\r\n                        let src = imgs[i].src;\r\n                        if (src.match(/^https:\\/\\/mail.ali/i) == null) continue;\r\n                        console.log(src);\r\n                        let fileObj = {\r\n                            name: 'image.png',\r\n                            size: '',\r\n                            url: src\r\n                        };\r\n                        thisInstance.uploadPic(fileObj);\r\n                    }\r\n                }, 200);\r\n            } //粘贴到文本框时\r\n        }\r\n    };\r\n    return (\r\n        <JoditEditor\r\n            ref={editor}\r\n            value={finalDescription}\r\n            config={config}\r\n            tabIndex={1} // tabIndex of textarea\r\n            onBlur={(newContent) => setFinalDescription(newContent)} // preferred to use only this option to update the content for performance reasons\r\n            onChange={(newContent) => {}}\r\n        />\r\n    );\r\n}\r\n\r\nProductDetail.propTypes = {\r\n    localization: PropTypes.object,\r\n    finalDescription: PropTypes.string,\r\n    setFinalDescription: PropTypes.func\r\n};\r\n\r\nexport default ProductDetail;\r\n","import { useNavigate } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n// material-ui\r\nimport { Button, Divider } from '@mui/material';\r\nimport { Check as CheckIcon, Cancel as CancelIcon } from '@mui/icons-material';\r\n\r\nfunction Confirmation({ langPack, modificationSubmission }) {\r\n    let navigate = useNavigate(); //react-router-dom\r\n    return (\r\n        <>\r\n            <br />\r\n            <Divider />\r\n            <div align=\"right\">\r\n                <Button startIcon={<CheckIcon />} onClick={modificationSubmission}>\r\n                    {langPack.common.yes}\r\n                </Button>\r\n                <Button startIcon={<CancelIcon />} onClick={() => navigate(`/product`)}>\r\n                    {langPack.common.no}\r\n                </Button>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nConfirmation.propTypes = {\r\n    langPack: PropTypes.object,\r\n    modificationSubmission: PropTypes.func\r\n};\r\n\r\nexport default Confirmation;\r\n","/* eslint-disable jsx-a11y/tabindex-no-positive */\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// material-ui\r\nimport { Typography, List, ListItem, useMediaQuery } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { Languages } from './Languages';\r\nimport EditStep from './component/EditStep';\r\nimport ProductCategory from './component/ProductCategory';\r\nimport PhotoGallery from './component/PhotoGallery';\r\nimport ProductAttribute from './component/ProductAttribute';\r\nimport ProductDetail from './component/ProductDetail';\r\nimport Confirmation from './component/Confirmation';\r\n\r\n// ==============================|| SINGLE PAGE APPLICATION ||============================== //\r\nlet productInfoModified = {};\r\n\r\nconst App = () => {\r\n    //全局数据\r\n    console.log('productEdit app running');\r\n    let localization = useSelector((state) => state.localization); //多语言相关\r\n    let globalization = useSelector((state) => state.globalization); //全局数据\r\n    let [langPack, setLangPack] = useState(Languages[localization.locale]); //currentLanguage\r\n    let [loginData] = useState(globalization.baseData.loginData);\r\n    let navigate = useNavigate(); //react-router-dom\r\n    //编辑步骤提示\r\n    let [activeStep, setActiveStep] = useState(0);\r\n    //产品信息汇总\r\n    let product_id = location.pathname.replace('/product/', ''); //产品id\r\n    let [productInfo, setProductInfo] = useState({}); //产品信息\r\n    let [finalAttributeArr, setFinalAttributeArr] = useState([]); //最后在用的属性列表\r\n    let [finalImageArr, setFinalImageArr] = useState([]); //最后在用的图片列表\r\n    let [finalDescription, setFinalDescription] = useState(''); //最后在用的产品详情\r\n    let [finalCatId, setFinalCatId] = useState(0); //当前产品类目id\r\n    let [categories, setCategories] = useState([]); //当前产品类目\r\n    let categoryArr = []; //当前产品类目(暂存)\r\n    let menuRef = useRef(null);\r\n    let [menuState, setMenuState] = useState({\r\n        menuLevel: undefined,\r\n        menuValue: undefined,\r\n        menuArr: [],\r\n        anchorEl: null\r\n    });\r\n    //产品主图相关\r\n    let photoCols = useMediaQuery(useTheme().breakpoints.down('md')) ? 3 : 6;\r\n    let uploaderRef = useRef(null); //上传表单\r\n    //产品属性相关\r\n    let [allAttributeArr, setAllAttributeArr] = useState([]); //当前类目下的所有可用属性列表\r\n\r\n    useEffect(() => {\r\n        if (!categories.length) return;\r\n        let categoryResult = categories[categories.length - 1];\r\n        let cat_id = categoryResult.category_id;\r\n        setFinalCatId(cat_id);\r\n        if (cat_id) getCategoryAttributeInfo({ cat_id });\r\n        //console.log(categories, categoryResult.category_id);\r\n        return; //类目调整 返回最新的类目id\r\n    }, [categories]);\r\n\r\n    useEffect(() => {\r\n        console.log('description changed ');\r\n        if (finalDescription) {\r\n            if (finalDescription.length > 60000) return queryResult(false, langPack.form.descriptionOverflow);\r\n            productInfoModified.description = finalDescription;\r\n        }\r\n        return; //编辑器内容改变时\r\n    }, [finalDescription]);\r\n\r\n    useEffect(() => {\r\n        setLangPack(Languages[localization.locale]);\r\n        return; //语言切换\r\n    }, [localization.locale]);\r\n\r\n    useEffect(() => {\r\n        console.log('I want product editing');\r\n        if (!loginData) return navigate('/');\r\n        getProductInfo({ product_id });\r\n        return () => {\r\n            console.log('I leave product edit');\r\n            productInfoModified = {};\r\n        }; //载入 & 清理\r\n    }, []);\r\n\r\n    //____________一些函数_______________________________________________\r\n    async function uploadPhotos(photoFile) {\r\n        let currentFolder = -1;\r\n        let paramObj = ma.photoUploadQuery({ file_name: photoFile.name, image_bytes: photoFile, group_id: currentFolder });\r\n        let msg = await fetchAPI(paramObj, {\r\n            method: 'POST',\r\n            'Content-Type': 'Form Data'\r\n        });\r\n        if (!msg.response.status) return queryResult(false, langPack.common.yes);\r\n        let res = ma.photoUploadCheck(msg);\r\n        let { status, result } = res.response;\r\n        if (!status) return queryResult(false, result);\r\n        return setFinalImageArr((prev) => {\r\n            if (prev.length >= 6) return prev;\r\n            return [result.photobank_url, ...prev];\r\n        });\r\n    }\r\n\r\n    async function updateProductInfo(obj) {\r\n        let paramObj = ma.productUpdateQuery(obj);\r\n        let msg = await fetchAPI(paramObj);\r\n        if (!msg.response.status) return queryResult(false, langPack.common.netFail + ' >> ' + msg.response.result);\r\n        let res = ma.productUpdateCheck(msg);\r\n        let { status, result } = res.response;\r\n        if (!status) return queryResult(status, result);\r\n        return console.log(result);\r\n    } //更新产品信息\r\n\r\n    async function getProductInfo(obj) {\r\n        let paramObj = ma.productDetailQuery(obj);\r\n        let msg = await fetchAPI(paramObj);\r\n        if (!msg.response.status) return queryResult(false, langPack.common.netFail + ' >> ' + msg.response.result);\r\n        let res = ma.productDetailCheck(msg);\r\n        let { status, result } = res.response;\r\n        if (!status) return queryResult(status, result);\r\n        console.log(result);\r\n        if (result.attributes.product_attribute) {\r\n            let attributeArr = [...result.attributes.product_attribute];\r\n            attributeArr.sort((a, b) => a.attribute_id - b.attribute_id);\r\n            setFinalAttributeArr(attributeArr);\r\n        }\r\n        if (result.main_image.images.string) {\r\n            setFinalImageArr(result.main_image.images.string);\r\n        }\r\n        if (result.description) {\r\n            setFinalDescription(result.description);\r\n        }\r\n        setProductInfo(result);\r\n        if (result.category_id) getAllCategories(result.category_id);\r\n    } //获取产品信息\r\n\r\n    async function getCategoryInfo(obj) {\r\n        let paramObj = ma.productCategoryQuery(obj);\r\n        let msg = await fetchAPI(paramObj);\r\n        if (!msg.response.status) return queryResult(false, langPack.common.netFail + ' >> ' + msg.response.result);\r\n        let res = ma.productCategoryCheck(msg);\r\n        let { status, result } = res.response;\r\n        if (!status) return queryResult(status, result);\r\n        return result;\r\n    } //获取类目信息\r\n\r\n    async function getCategoryAttributeInfo(obj) {\r\n        let paramObj = ma.productCategoryAttributeQuery(obj);\r\n        let msg = await fetchAPI(paramObj);\r\n        if (!msg.response.status) return queryResult(false, langPack.common.netFail + ' >> ' + msg.response.result);\r\n        let res = ma.productCategoryAttributeCheck(msg);\r\n        let { status, result } = res.response;\r\n        if (!status) return queryResult(status, result);\r\n        console.log(result);\r\n        return setAllAttributeArr(result);\r\n    } //获取类目属性信息\r\n\r\n    async function getAllCategories(category_id, category_level) {\r\n        if (!category_level) {\r\n            let categoryResult = await getCategoryInfo({ cat_id: category_id });\r\n            if (!categoryResult) return;\r\n            let { level, parent_ids } = categoryResult;\r\n            if (!categoryArr.length) categoryArr = new Array(level); //初始化模式\r\n            categoryArr[level] = categoryResult;\r\n            if (level > 0 && parent_ids && parent_ids.number) {\r\n                let cat_id = parent_ids.number[0];\r\n                getAllCategories(cat_id);\r\n            } else {\r\n                setCategories(categoryArr);\r\n            }\r\n            return;\r\n        }\r\n        let categoryResult = categories[category_level - 1].child_ids.number.find((obj) => obj.category_id === category_id);\r\n        if (!categoryResult) return;\r\n        let { child_ids } = categoryResult;\r\n        let newCategories = [...categories];\r\n        newCategories[category_level] = categoryResult;\r\n        if (category_level + 1 < newCategories.length) newCategories.length = category_level + 1;\r\n        if (child_ids) {\r\n            newCategories.push({ category_id: 0 });\r\n            categoryArr = newCategories;\r\n            showMenu(newCategories.length - 1);\r\n        }\r\n        return setCategories(newCategories); //修改类目模式\r\n    }\r\n\r\n    const showMenu = async (index) => {\r\n        let latestCategories = categoryArr.length ? categoryArr : categories;\r\n        let category_id = latestCategories[index].category_id;\r\n        let childIdsArr = latestCategories[index - 1].child_ids.number;\r\n        for (let cat_id of childIdsArr) {\r\n            if (typeof cat_id === 'object') break;\r\n            let categoryResult = await getCategoryInfo({ cat_id });\r\n            childIdsArr[childIdsArr.indexOf(cat_id)] = categoryResult;\r\n        }\r\n        setMenuState({ menuLevel: index, menuValue: category_id, menuArr: childIdsArr, anchorEl: menuRef.current });\r\n    }; //获取当前的类目id & 通过父级获取子类目选项\r\n    const closeMenu = (category_id) => {\r\n        let { menuLevel } = menuState;\r\n        setMenuState({ menuArr: [], anchorEl: null });\r\n        console.log(category_id);\r\n        if (category_id !== undefined && category_id !== finalCatId) getAllCategories(category_id, menuLevel);\r\n    }; //需要更新类目\r\n\r\n    const onPhotoSelected = async (e) => {\r\n        let files = e.target.files;\r\n        if (!files.length) return;\r\n        for (let file of files) {\r\n            await uploadPhotos(file);\r\n        }\r\n    };\r\n\r\n    const onDoubleClickImageBtn = (url) => {\r\n        if (finalImageArr.length <= 1) return queryResult(false, langPack.steps.mainPhotoRequired);\r\n        setFinalImageArr(finalImageArr.filter((imageUrl) => imageUrl !== url));\r\n    };\r\n\r\n    const onAttributeClear = () => {\r\n        let attributeArr = [];\r\n        if (!finalAttributeArr.length) return;\r\n        attributeArr = [...finalAttributeArr];\r\n        attributeArr = attributeArr.filter((obj) => obj.value_name);\r\n        setFinalAttributeArr(attributeArr);\r\n    }; //最后确认\r\n\r\n    const onAttributeConfirm = (attributeSelected) => {\r\n        console.log(attributeSelected);\r\n        let { attr_id, attr_value, en_name, input_type } = attributeSelected;\r\n        if (!attr_id) return console.log('缺少关键id');\r\n        let attributeArr = [];\r\n        if (finalAttributeArr.length) {\r\n            attributeArr = [...finalAttributeArr];\r\n            if (finalAttributeArr.find((obj) => obj.attribute_id === attr_id)) {\r\n                if (/multi/gi.test(input_type)) {\r\n                    if (attr_value && attr_value.attr_value_id) {\r\n                        attributeArr = attributeArr.filter((obj) => obj.value_id !== attr_value.attr_value_id);\r\n                    } else {\r\n                        attributeArr = attributeArr.filter((obj) => {\r\n                            return obj.value_name && obj.attribute_id !== attr_id;\r\n                        });\r\n                    } //多选模式下排除重复值👆 单选的话排除重复属性👇\r\n                } else {\r\n                    attributeArr = attributeArr.filter((obj) => obj.attribute_id !== attr_id);\r\n                    queryResult(false, langPack.form.attributeDuplicated);\r\n                }\r\n            } //如果有重复的，替换并提醒用户\r\n        }\r\n        let attributeObj = {\r\n            attribute_id: attr_id,\r\n            attribute_name: en_name,\r\n            value_name: ''\r\n        };\r\n        if (attr_value) {\r\n            attributeObj.value_id = attr_value.attr_value_id;\r\n            attributeObj.value_name = attr_value.en_name;\r\n        }\r\n        setFinalAttributeArr([attributeObj, ...attributeArr]);\r\n        console.log(attributeObj);\r\n    }; //最后确认\r\n\r\n    const arrayDataReplacer = (newData, oldArr, searchKey) => {\r\n        if (oldArr.length) {\r\n            let oldIndex; //查找是否有旧的数据，分引用类型和原始类型，引用类型需要一个独有的key\r\n            if (searchKey) oldIndex = oldArr.findIndex((obj) => obj[searchKey] === newData[searchKey]);\r\n            else oldIndex = oldArr.findIndex((data) => data === newData);\r\n            if (oldIndex !== -1) oldArr[oldIndex] = newData;\r\n            else oldArr.push(newData);\r\n            //找到匹配项则替换，没有则添加\r\n        } else oldArr.push(newData);\r\n        return oldArr;\r\n    };\r\n    const onAttributeModified = (key, value, type) => {\r\n        //先初始化数据容器，如果之前没有数据的话\r\n        if (productInfoModified[key] === undefined) productInfoModified[key] = !type ? '' : {};\r\n        //部分数据比较复杂，单独处理\r\n        if (/attributes|bulk_discount_prices/gi.test(key)) {\r\n            let searchKey;\r\n            if (key === 'attributes') {\r\n                searchKey = 'attribute_id';\r\n            } else if (key === 'bulk_discount_prices') {\r\n                searchKey = 'start_quantity';\r\n            }\r\n            let newArr = arrayDataReplacer(value, productInfoModified[key], searchKey);\r\n            productInfoModified[key] = newArr;\r\n            //数据已存在，需要查找并替换\r\n            return productInfoModified;\r\n        } else if (key === 'keywords') value = value.split(',');\r\n        productInfoModified[key] = type === 'object' ? { ...productInfoModified[key], ...value } : value;\r\n        return productInfoModified;\r\n    }; //转换成最终的key/value, 如果是数组，则需要查找&替换\r\n    const modificationSubmission = () => {\r\n        let modifiedKeys = Object.keys(productInfoModified);\r\n        if (!modifiedKeys.length) return queryResult(false, langPack.steps.modificationNull);\r\n        productInfoModified.category_id = finalCatId;\r\n        productInfoModified.main_image = { images: finalImageArr };\r\n        productInfoModified.attributes = finalAttributeArr;\r\n        productInfoModified.product_id = productInfo.product_id;\r\n        productInfoModified.product_type = productInfo.product_type;\r\n        if (!productInfoModified.subject) productInfoModified.subject = productInfo.subject;\r\n        if (!productInfoModified.keywords) productInfoModified.keywords = productInfo.keywords.string;\r\n        productInfo.priceUnit = 'USD';\r\n        console.log(productInfoModified);\r\n        let dataObj = {};\r\n        for (let [k, v] of Object.entries(productInfoModified)) {\r\n            dataObj[k] = typeof v == 'object' ? JSON.stringify(v) : v;\r\n        }\r\n        console.log(dataObj);\r\n        updateProductInfo(dataObj);\r\n    };\r\n\r\n    //____________Functions return JSX_______________________________________________\r\n    function ModificationConfirmation() {\r\n        let modifiedKeys = Object.keys(productInfoModified);\r\n        if (!modifiedKeys.length) return <Typography variant=\"h1\">{langPack.steps.modificationNull}</Typography>;\r\n        return (\r\n            <>\r\n                <Typography variant=\"h1\">{langPack.steps.modificationDone}</Typography>\r\n                <List>\r\n                    {modifiedKeys.map((key) => (\r\n                        <ListItem key={key}>-- {key}</ListItem>\r\n                    ))}\r\n                </List>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <MainCard title=\"Product Edit --产品编辑\">\r\n            <EditStep langPack={langPack} activeStep={activeStep} setActiveStep={setActiveStep} />\r\n            {activeStep === 0 ? (\r\n                <>\r\n                    <ProductCategory\r\n                        localization={localization}\r\n                        categories={categories}\r\n                        menuRef={menuRef}\r\n                        menuState={menuState}\r\n                        showMenu={showMenu}\r\n                        closeMenu={closeMenu}\r\n                    />\r\n                    <PhotoGallery\r\n                        localization={localization}\r\n                        finalImageArr={finalImageArr}\r\n                        imageSizing={{ width: 30, height: 30 }}\r\n                        photoCols={photoCols}\r\n                        rowHeight={200}\r\n                        uploaderRef={uploaderRef}\r\n                        imageBtnTitle={langPack.steps.removePhotos}\r\n                        onDoubleClickImageBtn={onDoubleClickImageBtn}\r\n                        onPhotoSelected={onPhotoSelected}\r\n                    />\r\n                    <ProductAttribute\r\n                        {...productInfo}\r\n                        langPack={langPack}\r\n                        allAttributeArr={allAttributeArr}\r\n                        finalAttributeArr={finalAttributeArr}\r\n                        onAttributeConfirm={onAttributeConfirm}\r\n                        onAttributeClear={onAttributeClear}\r\n                        onAttributeModified={onAttributeModified}\r\n                    />\r\n                </>\r\n            ) : activeStep === 1 ? (\r\n                <>\r\n                    <ProductDetail\r\n                        localization={localization}\r\n                        finalDescription={finalDescription}\r\n                        setFinalDescription={setFinalDescription}\r\n                    />\r\n                </>\r\n            ) : activeStep === 2 ? (\r\n                <>\r\n                    <ModificationConfirmation />\r\n                    <Confirmation langPack={langPack} modificationSubmission={modificationSubmission} />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </MainCard>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"sourceRoot":""}