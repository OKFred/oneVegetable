(this["webpackJsonperp-dashboard"]=this["webpackJsonperp-dashboard"]||[]).push([[12],{323:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={enUS:{folder:{currentFolder:"please select",needFolderName:"please input name for new folder",addNewFolder:"add new folder",folderNull:"folder not found",dataNull:"data not found",folderRequired:"please select a folder to continue"},table:{tableHeader:"Products",categoryName:"category name",productId:"product id",subject:"subject",status:"status",display:"display",id:"id",is_rts:"RTS",is_specific:"specific",owner_member_display_name:"owner",product_type:"type",smart_edit:"smart edit",attributes:"attributes",keywords:"keywords",price:"price (range)",payment_methods:"payment methods",min_order_quantity:"min order quantity(MOQ)",unit_type:"unit type",gmt_create:"date create",gmt_modified:"date modified",score:"score",tag:"tag"},tableToolbar:{menuHide:"hide menu",menuShow:"show menu",productScore:"scores",productDisplayOn:"in-stock",productDisplayOff:"out-stock",productUpdate:"update",productEdit:"edit"},form:{KeyInformation:"key information",ProductAttributes:"product attributes",Advanced:"advanced",subject:"128 letters max.",category:"click to change category",keywords:"3 keywords max. Comma(,) separated",price:"set price (range)",payment_methods:"payment methods such as T/T, L/C, etc.",min_order_quantity:"optional",attributes:"add or delete",attributeMissing:"attribute missing",attributeDuplicated:"attribute duplicated",selectOrInput:"select or input",pieces:"pieces"},steps:{first:"Edit Attributes",second:"Edit Contents",finally:"Preview & Publish",previous:"Previous",next:"Next",complete:"Complete",addProduct:"Add Product",productIdError:"product id error, pls go back & try again",categoryError:"category error, pls try again",editPrice:"Edit Price",choosePhotos:"Choose Photos",uploadPhotos:"Upload Photos",removePhotos:"double click to remove the photo",photoUploadTip:"If it cannot be updated, please remove ALL photos and try again",productDescriptionTip:"Tips: \u2460 If it cannot be updated, please remove ALL contents and try again. \u2461Click the red button below \ud83d\udc47 to unlock photo resizing",mainPhotoRequired:"Need at least one photo",descriptionOverflow:"description length shall be smaller than 60k letters",panel1:"subject, keywords, price, MOQ...",panel2:"all kinds of attributes...",panel3:"additional information...",addAttributes:"Add Attributes",removeAttributes:"Remove Attributes",modificationNull:"No modification made",addCustomInfo:"Add Custom Info",modificationDone:"Will submit the following modifications:",numberOnly:"Please input number only",uploadSuccess:"Upload Success",productScoreError:"no score found"},productScore:{basic:"Basic",potential:"Potential",super:"Super",top:"Top"},common:{yes:"OK",no:"Cancel",success:"Success",netFail:"request failed"}},zhCN:{folder:{currentFolder:"\u8bf7\u9009\u62e9",needFolderName:"\u8bf7\u586b\u5199\u6587\u4ef6\u5939\u540d",addNewFolder:"\u65b0\u5efa\u6587\u4ef6\u5939",folderNull:"\u6587\u4ef6\u5939\u4e0d\u5b58\u5728",dataNull:"\u6570\u636e\u4e0d\u5b58\u5728",folderRequired:"\u8bf7\u9009\u62e9\u6587\u4ef6\u5939"},table:{tableHeader:"\u4ea7\u54c1",categoryName:"\u7c7b\u76ee",productId:"\u4ea7\u54c1 id",subject:"\u6807\u9898",status:"\u5ba1\u6838\u72b6\u6001",display:"\u4e0a\u67b6\u72b6\u6001",id:"id",is_rts:"RTS",is_specific:"\u89c4\u683c\u54c1",owner_member_display_name:"\u8d1f\u8d23\u4eba",product_type:"\u5546\u54c1\u7c7b\u578b",smart_edit:"\u667a\u80fd\u7f16\u8f91",attributes:"\u5c5e\u6027",keywords:"\u5173\u952e\u8bcd",price:"\u4ef7\u683c(\u533a\u95f4)",payment_methods:"\u652f\u4ed8\u65b9\u5f0f",min_order_quantity:"\u6700\u5c0f\u8d77\u8ba2\u91cf(MOQ)",unit_type:"\u5355\u4f4d",gmt_create:"\u521b\u5efa\u65e5\u671f",gmt_modified:"\u4fee\u6539\u65e5\u671f",score:"\u4ea7\u54c1\u5206",tag:"\u6807\u7b7e"},tableToolbar:{menuHide:"\u9690\u85cf\u83dc\u5355",menuShow:"\u663e\u793a\u83dc\u5355",productScore:"\u4ea7\u54c1\u5206",productDisplayOn:"\u4e0a\u67b6",productDisplayOff:"\u4e0b\u67b6",productUpdate:"\u66f4\u65b0",productEdit:"\u7f16\u8f91"},form:{KeyInformation:"\u57fa\u672c\u4fe1\u606f",ProductAttributes:"\u4ea7\u54c1\u5c5e\u6027",Advanced:"\u66f4\u591a\u8bbe\u7f6e",subject:"128 \u5b57\u7b26\u4ee5\u5185",category:"\u70b9\u51fb\u66f4\u6362\u7c7b\u76ee",keywords:"\u6700\u591a\u4e09\u4e2a\u5173\u952e\u8bcd\uff0c\u7528\u82f1\u6587\u9017\u53f7(,)\u5206\u9694",price:"\u8bbe\u7f6e\u4ef7\u683c(\u533a\u95f4)",payment_methods:"\u652f\u4ed8\u65b9\u5f0f\uff0c\u4f8b\u5982\uff1aT/T\uff0cL/C\uff0c\u7b49",min_order_quantity:"\u9009\u586b",attributes:"\u53ef\u589e\u53ef\u51cf",attributeMissing:"\u5c5e\u6027\u7f3a\u5931",attributeDuplicated:"\u5c5e\u6027\u91cd\u590d",selectOrInput:"\u9009\u62e9\u6216\u8f93\u5165",pieces:"\u4ef6"},steps:{first:"\u5c5e\u6027\u7f16\u8f91",second:"\u8be6\u60c5\u7f16\u8f91",finally:"\u9884\u89c8&\u53d1\u5e03",previous:"\u4e0a\u4e00\u6b65",next:"\u4e0b\u4e00\u6b65",complete:"\u5b8c\u6210",addProduct:"\u53d1\u5e03\u4ea7\u54c1",productIdError:"\u4ea7\u54c1 id \u9519\u8bef\uff0c\u8bf7\u8fd4\u56de\u91cd\u8bd5",categoryError:"\u7c7b\u76ee\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9",editPrice:"\u7f16\u8f91\u4ef7\u683c",choosePhotos:"\u9009\u62e9\u56fe\u7247",uploadPhotos:"\u4e0a\u4f20\u56fe\u7247",removePhotos:"\u53cc\u51fb\u79fb\u9664\u56fe\u7247",photoUploadTip:"\u82e5\u65e0\u6cd5\u66f4\u65b0\uff0c\u8bf7\u6e05\u9664\u6240\u6709\u56fe\u7247\u540e\u91cd\u8bd5",productDescriptionTip:"\u63d0\u793a: \u2460\u82e5\u65e0\u6cd5\u66f4\u65b0\uff0c\u8bf7\u6e05\u9664\u6240\u6709\u8be6\u60c5\u540e\u91cd\u8bd5 \u2461\u539f\u5148\u662f\u667a\u80fd\u7f16\u8f91\u7684\u60c5\u51b5\u4e0b\uff0c\u987b\u70b9\u51fb\u4e0b\u65b9\u7ea2\u8272\u6309\u94ae\u89e3\u9501\u56fe\u7247\u7f29\u653e\ud83d\udc47",mainPhotoRequired:"\u9700\u8981\u4fdd\u7559\u81f3\u5c11\u4e00\u5f20\u4e3b\u56fe",descriptionOverflow:"\u63cf\u8ff0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc76\u4e07\u5b57\u7b26",panel1:"\u6807\u9898\uff0c\u5173\u952e\u8bcd\uff0c\u4ef7\u683c\uff0cMOQ...",panel2:"\u5404\u7c7b\u5c5e\u6027...",panel3:"\u9644\u52a0\u4fe1\u606f...",addAttributes:"\u6dfb\u52a0\u5c5e\u6027",removeAttributes:"\u79fb\u9664\u7a7a\u767d\u5c5e\u6027",addCustomInfo:"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4fe1\u606f",modificationNull:"\u6ca1\u6709\u4efb\u4f55\u4fee\u6539",modificationDone:"\u5c06\u63d0\u4ea4\u5982\u4e0b\u5185\u5bb9:",numberOnly:"\u8bf7\u8f93\u5165\u6570\u5b57",uploadSuccess:"\u4e0a\u4f20\u6210\u529f",productScoreError:"\u4ea7\u54c1\u5206\u672a\u67e5\u5230"},productScore:{basic:"\u4f4e\u8d28\u54c1",potential:"\u666e\u901a\u54c1",super:"\u5b9e\u529b\u4f18\u54c1",top:"\u7cbe\u54c1"},common:{yes:"\u786e\u5b9a",no:"\u53d6\u6d88",success:"\u64cd\u4f5c\u6210\u529f",netFail:"\u8bf7\u6c42\u5931\u8d25"}}}},332:function(e,t,n){"use strict";var r=n(282),a=n(364),i=n(152),c=n(401),o=n(392),s=n(393),u=n(6),l=n(52),d=n(391),p=n(1),b=Object(u.a)(r.a)((function(){var e=d.a[100];return{backgroundColor:e,height:40,"&:hover, &:focus":{backgroundColor:Object(l.c)(e,.06)},"&:active":{boxShadow:10,backgroundColor:Object(l.c)(e,.12)}}}));t.a=function(e){var t=e.localization,n=e.categories,r=e.menuRef,u=e.menuState,l=e.showMenu,d=e.closeMenu,j=u.menuArr,m=u.anchorEl;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.a,{sx:{display:"inline-flex",paddingTop:"10px"},children:n.map((function(e,n){if(n>0)return Object(p.jsx)(b,{sx:u.menuLevel===n?{display:"none"}:{},component:"a",href:"#",label:"zhCN"!==t.locale?e.name:e.cn_name,icon:1===n?Object(p.jsx)(o.a,{}):void 0,deleteIcon:Object(p.jsx)(s.a,{}),onDelete:function(){return l(n)}},e.category_id)}))}),Object(p.jsx)("span",{ref:r}),Object(p.jsx)("div",{children:Object(p.jsx)(i.a,{anchorEl:m,open:Boolean(m),onClose:function(){return d()},children:j.map((function(e){return Object(p.jsx)(c.a,{onClick:function(){return d(e.category_id)},children:"zhCN"!==t.locale?e.name:e.cn_name},e.category_id)}))})})]})}},333:function(e,t,n){"use strict";var r=n(16),a=n(85),i=n(289),c=n(399),o=n(213),s=n(293),u=n(330),l=n(331),d=n(1);t.a=function(e){var t=e.langPack,n=e.productModified,p=e.modificationSubmission,b=Object(r.f)(),j=Object.keys(n);return Object(d.jsxs)(d.Fragment,{children:[j.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(a.a,{variant:"h3",children:t.steps.modificationDone}),Object(d.jsx)(i.a,{children:j.map((function(e){return Object(d.jsxs)(c.a,{children:["--",e]},e)}))})]}):Object(d.jsx)(a.a,{variant:"h3",children:t.steps.modificationNull}),Object(d.jsx)("br",{}),Object(d.jsx)(o.a,{}),Object(d.jsxs)("div",{align:"right",children:[Object(d.jsx)(s.a,{startIcon:Object(d.jsx)(u.a,{}),onClick:p,children:t.common.yes}),Object(d.jsx)(s.a,{startIcon:Object(d.jsx)(l.a,{}),onClick:function(){return b("/product")},children:t.common.no})]})]})}},443:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(18),i=n(35),c=n.n(i),o=n(107),s=n(53),u=n(13),l=n(0),d=n(22),p=n(16),b=n(268),j=n(23),m=n(87),f=n(323),h=n(449),g=n(454),O=n(444),x=n(365),_=n(293),y=n(223),v=n(1);var A=function(e){var t=e.langPack,n=e.activeStep,r=e.setActiveStep,a=Object(l.useState)([t.steps.first,t.steps.second,t.steps.finally]),i=Object(u.a)(a,1)[0];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{activeStep:n,children:i.map((function(e){return Object(v.jsx)(g.a,{children:Object(v.jsx)(O.a,{children:e})},e)}))}),Object(v.jsxs)(x.a,{variant:"contained",color:"secondary",disableElevation:!0,sx:{display:"flex",flexDirection:"row",pt:2,paddingBottom:"10px"},children:[Object(v.jsx)(_.a,{disabled:0===n,onClick:function(){r((function(e){return e-1}))},sx:{mr:1},children:t.steps.previous}),Object(v.jsx)(y.a,{sx:{flex:"1 1 auto"}}),Object(v.jsx)(_.a,{disabled:2===n,onClick:function(){r((function(e){return e+1}))},children:n===i.length-1?t.steps.complete:t.steps.next})]})]})},k=n(332),w=n(455),C=n(456),S=n(457),I=n(452),P=n(288),q=n(453),E=n(269),R=n(432),D=n(433),F=n(386);var M=function(e){var t=e.finalImageArr,n=e.imageSizing,a=e.photoCols,i=e.rowHeight,c=e.uploaderRef,o=e.onDoubleClickImageBtn,s=e.onPhotoSelected,u=e.langPack,l=n.width,d=n.height;return Object(v.jsxs)(w.a,{cols:a,rowHeight:i,sx:{marginTop:"10px",marginBottom:"10px"},variant:"quilted",gap:2,children:[t.map((function(e,t){return Object(v.jsxs)(C.a,{cols:1,rows:1,children:[Object(v.jsx)("img",Object(r.a)(Object(r.a)({},srcset(e,l,d,1,1)),{},{alt:t+1,loading:"lazy"})),Object(v.jsx)(S.a,{sx:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0) 100%)"},title:t+1,position:"top",actionIcon:Object(v.jsx)(I.a,{title:u.steps.removePhotos,children:Object(v.jsx)(P.a,{sx:{color:t?"yellow":"white"},"aria-label":"star ".concat(t+1),onDoubleClick:function(){return o(e)},children:Object(v.jsx)(R.a,{})})}),actionPosition:"left"})]},t)})),t.length<6?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(q.a,{sx:{display:"none"},ref:c,control:Object(v.jsx)(E.a,{type:"file",inputProps:{multiple:!0}}),label:Object(v.jsx)(D.a,{}),onChange:s}),Object(v.jsx)(I.a,{title:u.steps.photoUploadTip,children:Object(v.jsx)(_.a,{startIcon:Object(v.jsx)(F.a,{}),onClick:function(){return c.current.click()}},"uploader")})]}):null]})},N=n(3),T=n(451),z=n(458),Q=n(85),U=n(459),B=n(278),L=n(286),K=n(401),V=n(213),Y=n(448),G=n(393),J=n(330),X=n(331),Z=n(383),H=n(385),W=["custom_info"],$=[];var ee=function(e){var t=e.langPack,n=e.expanded,a=e.setExpanded,i=e.sourcing_trade,c=e.subject,o=e.keywords,s=e.finalCustomArr,d=e.finalAttributeArr,p=e.allAttributeArr,b=e.onAttributeAdd,j=e.onAttributeModified,m=e.onAttributeClear,f=Object(l.useState)(!1),h=Object(u.a)(f,2),g=h[0],O=h[1],x=Object(l.useState)(""),y=Object(u.a)(x,2),A=y[0],k=y[1],w=Object(l.useState)([]),C=Object(u.a)(w,2),S=C[0],P=C[1],q=Object(l.useState)(!1),E=Object(u.a)(q,2),R=E[0],D=E[1],F=Object(l.useState)(""),M=Object(u.a)(F,2),ee=M[0],te=M[1],ne=Object(l.useState)(""),re=Object(u.a)(ne,2),ae=re[0],ie=re[1],ce=Object(l.useState)(""),oe=Object(u.a)(ce,2),se=oe[0],ue=oe[1],le=Object(l.useState)(""),de=Object(u.a)(le,2),pe=de[0],be=de[1],je=function(e){return function(t,n){a((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(N.a)({},e,n))}))}},me=function(e){var n="";"custom_info"===e?($=["Customized logo","Customized packaging","Graphic customization","Material"],n=t.table.min_order_quantity):$=[],be(e),ue(""),te(n)},fe=function(e){ue(e)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)(T.a,{expanded:n.panel1,onChange:je("panel1"),children:[Object(v.jsxs)(z.a,{expandIcon:Object(v.jsx)(G.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(v.jsx)(Q.a,{variant:"h2",sx:{width:"33%",flexShrink:0,color:"orangered",display:"inline"},children:t.form.KeyInformation}),Object(v.jsx)(Q.a,{sx:{color:"text.secondary"},children:t.steps.panel1})]}),Object(v.jsxs)(U.a,{children:[Object(v.jsx)(I.a,{title:t.form.subject,children:Object(v.jsx)(B.a,{margin:"normal",fullWidth:!0,id:"subject",variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:t.table.subject}),defaultValue:c,onChange:function(e){return j("subject",e.target.value)}},c)}),Object(v.jsx)(I.a,{title:t.form.keywords,children:Object(v.jsx)(B.a,{margin:"normal",fullWidth:!0,id:"keywords",variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:t.table.keywords}),defaultValue:o?String(o.string):"",onChange:function(e){return j("keywords",e.target.value)}},o)}),Object(v.jsx)(I.a,{title:t.form.price,children:Object(v.jsx)(B.a,{margin:"normal",id:"price",variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:t.table.price}),InputProps:{startAdornment:Object(v.jsx)(L.a,{position:"start",children:i?i.fob_currency:"USD"})},defaultValue:i?i.fob_max_price===i.fob_min_price?i.fob_min_price:"".concat(i.fob_min_price," ~ ").concat(i.fob_max_price):"",onChange:function(e){var n=e.target.value;if(""===n.trim())return j("sourcing_trade",{fob_min_price:""});n=n.trim().replace(/\s/g,"");var r=/~|-/g.test(n)?"~":"-",a=n.split(r),c=a[0],o=a[1];Number(c)>=Number(o)&&(o="");var s=i?i.fob_currency:"USD",u=i?i.fob_unit_type:t.form.pieces;j("sourcing_trade",{fob_min_price:c,fob_max_price:o,fob_currency:s,fob_unit_type:u})}},i)}),Object(v.jsx)(I.a,{title:t.form.min_order_quantity,children:Object(v.jsx)(B.a,{margin:"normal",id:"min_order_quantity",variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:t.table.min_order_quantity}),defaultValue:i&&i.min_order_quantity?i.min_order_quantity:"",InputProps:{endAdornment:Object(v.jsx)(L.a,{position:"end",children:i?i.min_order_unit_type:t.form.pieces})},onChange:function(e){var n=i?i.min_order_unit_type:t.form.pieces,r=e.target.value||"1";j("sourcing_trade",{min_order_quantity:r,min_order_unit_type:n})}},i)}),Object(v.jsx)(I.a,{title:t.form.payment_methods,children:Object(v.jsx)(B.a,{margin:"normal",id:"payment_methods",variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:t.table.payment_methods}),defaultValue:i&&i.payment_methods?String(i.payment_methods.string):"",onChange:function(e){var n=e.target.value;if(""===n.trim())return queryResult(!1,t.form.attributeMissing);n=n.split(","),j("sourcing_trade",{payment_methods:n})}},i)})]})]}),Object(v.jsxs)(T.a,{expanded:n.panel2,onChange:je("panel2"),children:[Object(v.jsxs)(z.a,{expandIcon:Object(v.jsx)(G.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:[Object(v.jsx)(Q.a,{variant:"h2",sx:{width:"33%",flexShrink:0,color:"darkorange",display:"inline"},children:t.form.ProductAttributes}),Object(v.jsx)(Q.a,{sx:{color:"text.secondary"},children:t.steps.panel2})]}),Object(v.jsx)(U.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{paddingTop:"10px",paddingBottom:"20px"},children:g?Object(v.jsx)(v.Fragment,{children:p.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(B.a,{id:"add-attribute",select:!0,sx:{minWidth:"120px",padding:"5px","& .MuiOutlinedInput-root":{height:"29px",padding:"1px"}},value:A&&A.attr_id?A.attr_id:"",onChange:function(e){var t=p.find((function(t){return t.attr_id===e.target.value}));if(!t)return console.log("\u5c5e\u6027\u4e0d\u5c5e\u4e8e\u8be5\u7c7b\u76ee\uff1f");k(t);var n=t.attribute_values.attribute_value;P(n||[])},children:[Object(v.jsx)(K.a,{value:"",disabled:!0},""),p.map((function(e){return Object(v.jsx)(K.a,{value:e.attr_id,children:e.en_name},e.attr_id)}))]}),S.length?Object(v.jsx)(B.a,{id:"add-attribute-if-single-select",select:!0,value:A.attr_value&&A.attr_value.attr_value_id?A.attr_value.attr_value_id:"",onChange:function(e){var t=S.find((function(t){return t.attr_value_id===e.target.value}));if(!t)return console.log("\u9009\u9879\u4e0d\u662f\u8be5\u5c5e\u6027\u7684\u9009\u9879\uff1f");k((function(e){return Object.assign({},e,{attr_value:t})}))},variant:"standard",children:S.map((function(e){return Object(v.jsx)(K.a,{value:e.attr_value_id,children:e.en_name},String(e.attr_value_id))}))}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)(_.a,{startIcon:Object(v.jsx)(J.a,{}),onClick:function(){return b(A)},children:t.common.yes}),Object(v.jsx)(_.a,{startIcon:Object(v.jsx)(X.a,{}),onClick:function(){return O((function(e){return!e}))},children:t.common.no})]}):Object(v.jsx)(Q.a,{variant:"body1",children:t.form.attributeMissing})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(I.a,{title:t.steps.addAttributes,children:Object(v.jsx)(_.a,{variant:"standard",onClick:function(){return O((function(e){return!e}))},children:Object(v.jsx)(Z.a,{})})}),Object(v.jsx)(I.a,{title:t.steps.removeAttributes,children:Object(v.jsx)(_.a,{variant:"standard",onClick:m,children:Object(v.jsx)(H.a,{})})})]})}),Object(v.jsx)(V.a,{}),Object(v.jsx)("br",{}),d.length?d.map((function(e){return Object(v.jsx)(I.a,{title:t.form.attributes,children:Object(v.jsx)(B.a,{margin:"normal",id:String(e.attribute_name+e.value_name),variant:"outlined",label:Object(v.jsx)(Q.a,{variant:"h3",children:e.attribute_name}),defaultValue:e.value_name,onBlur:function(t){t.target.value!==e.value_name&&j("attributes",{attribute_id:e.attribute_id,attribute_name:e.attribute_name,value_name:t.target.value})}})},e.value_name+e.attribute_id)})):null]})})]}),Object(v.jsxs)(T.a,{expanded:n.panel3,onChange:je("panel3"),children:[Object(v.jsxs)(z.a,{expandIcon:Object(v.jsx)(G.a,{}),"aria-controls":"panel3bh-content",id:"panel3bh-header",children:[Object(v.jsx)(Q.a,{variant:"h2",sx:{width:"33%",flexShrink:0,color:"coral",display:"inline"},children:t.form.Advanced}),Object(v.jsx)(Q.a,{sx:{color:"text.secondary"},children:t.steps.panel3})]}),Object(v.jsx)(U.a,{children:Object(v.jsxs)(v.Fragment,{children:[R?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Y.a,{id:"add-custom",sx:{display:"inline-flex",minWidth:"180px",padding:"0px","& .MuiOutlinedInput-root":{height:"29px",padding:"1px"}},onChange:function(e,t){return me(t)},onBlur:function(e){return me(e.target.value)},options:W,renderInput:function(e){return Object(v.jsx)(B.a,Object(r.a)(Object(r.a)({},e),{},{placeholder:t.form.selectOrInput}))}}),$.length?Object(v.jsx)(Y.a,{id:"add-custom_key",freeSolo:!0,sx:{display:"inline-flex",minWidth:"180px",padding:"0px","& .MuiOutlinedInput-root":{height:"29px",padding:"1px"}},onChange:function(e,t){return fe(t)},onBlur:function(e){return fe(e.target.value)},options:$,renderInput:function(e){return Object(v.jsx)(B.a,Object(r.a)(Object(r.a)({},e),{},{placeholder:t.form.selectOrInput}))}}):null,pe?Object(v.jsx)(I.a,{title:ee,children:Object(v.jsx)(B.a,{inputProps:{type:"text"},onChange:function(e){return ie(e.target.value)},sx:{display:"inline-flex","& .MuiOutlinedInput-root":{height:"29px",padding:"1px"}}})},"add-custom_value"):null,Object(v.jsx)(_.a,{startIcon:Object(v.jsx)(J.a,{}),onClick:function(){if("custom_info"===pe){if(""===se.trim()||""===ae.trim())return queryResult(!1,t.form.attributeMissing);if(isNaN(parseInt(ae)))return queryResult(!1,t.steps.numberOnly);j("custom_info",{custom_type:se,min_order_quantity:parseInt(ae)})}else if("extra_context"===pe)return},children:t.common.yes}),Object(v.jsx)(_.a,{startIcon:Object(v.jsx)(X.a,{}),onClick:function(){return D((function(e){return!e}))},children:t.common.no})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(I.a,{title:t.steps.addCustomInfo,children:Object(v.jsx)(_.a,{variant:"standard",onClick:function(){return D((function(e){return!e}))},children:Object(v.jsx)(Z.a,{})})})}),Object(v.jsx)(V.a,{}),Object(v.jsx)("br",{}),s.map((function(e){return Object(v.jsx)(I.a,{title:t.table.min_order_quantity,children:Object(v.jsx)(B.a,{margin:"normal",id:e.custom_type,inputProps:{type:"number"},variant:"outlined",sx:{padding:"0px"},label:Object(v.jsx)(Q.a,{variant:"h3",sx:{padding:"0px"},children:e.custom_type}),defaultValue:e.min_order_quantity,onBlur:function(n){if(""===n.target.value.trim())return queryResult(!1,t.form.attributeMissing);j("custom_info",{custom_type:e.custom_type,min_order_quantity:n.target.value})}},e.custom_type)},e.custom_type+e.min_order_quantity)}))]})})]})]}),Object(v.jsx)(V.a,{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{})]})},te=n(394),ne=n.n(te);var re=function(e){var t=e.localization,n=e.finalDescription,r=e.setFinalDescription,a=e.langPack,i=Object(l.useRef)(null),c={language:"zhCN"===t.locale?"zh_cn":"en_us",enter:"DIV",defaultActionOnPaste:"insert_clear_html",toolbarAdaptive:!1,buttons:["source","bold","italic","underline","eraser","ul","ol","left","font","fontsize","brush","image","copyformat","copy","paste","table","link",{iconURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAADHl1ErAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAK/SURBVHhe7ZvhTcMwEIXZAEZgA9gANigbwAaMABuUDegGjAAbMAIjMIK5JxIp5OyzL02I3bxPej9aXdLzp8RO0/QsEBcU5oTCnFCYEwpzQmFOKMzJ/wj7+Kgnn59dU9NYTtjhEMLlpXyCfESNubsL4f29a7Yc2XIBHh50g7Xm9bVrugzZYmaennRTtcdxpEn1jHx/62ZayG7XDSCPVM8IDu9YQy2kkPLKElKn49VVCDc3deT8PN5j4eoplTOSEjZhNVoMSDuiR6mcEQpzQmFOKMzJ5oV9fYXw/KyTujrevDDsJLZzfGgMCqOwMVJpQGEKqTSgMIVUGlCYQioNKEwhlQYUppBKAwpTSKUBhSmk0oDCFFJpQGEKqTSgMIVUGlCYQioNaheGuyleNisMsi4uQtjvuzcK2aQw/P55fT1t/yclDI8YQEaO8aMIONJKT8+TEfb4+FsLGRY4Bcf7R3DElXASwt7e/tanboGn+umTkw2aF9ZP3sN6vB7/Eh2riyX3NE7zwoaT9zB4v5/PxpN8LtbP/k0L6+etVPpTbDzJ54IjMbV4NCtsPG+lgicFY+/nkloEmhRWOh8dm9gi0KQwz3x0bMaLQHPCMABs/58Zzmd4nevRQCoNlhC2NhTmpAlhLy/xPxmskdT8uYqw1Pe8FlKIXekVhivsWH3twUPLhUi1gVcYSM0RNSf3/XOAVBtMEYaL0tSj3TXm/r5rvAzZwmCKMABpLRxpWKScyFYGU4X1YE7DQoDGagpOwZI7uxFk9AbHCjtBZPQGFKaQ0RtQmEJGb0BhChm9AYUpZPQGqSt33Py7va07jotRDzL6DDFhLQSXDwsge86Av/fGGqo9qwlLzWO1ZzVhAPNBrKmas6owgCOtpdNzdWFDsHpCYM3BDYAFmCZsw1CYEwpzQmFOKMwJhTmhMCcU5oTCXITwA9i8QLpYTlc4AAAAAElFTkSuQmCC",tooltip:"Clear Image style",exec:function(e,t,n){var r=e.value,a=(r=(r=r.replace(/\n/gi,"")).replace(/>/gi,">\n")).split("\n");r=(a=a.map((function(e){return/<img src/gi.test(e)?e=/ class="magic-(\d{1,3})x000"/gi.test(e)?e.replace(/x000/gi,""):e.replace(/ class="magic-(\d{1,3})"/gi,' class="magic-$1x000"'):e}))).join(""),e.value=r}}],events:{paste:function(e){console.log("\u7c98\u8d34...",e);var t=e.clipboardData&&e.clipboardData.items;if(t&&t.length)return console.log(t)},beforePasteInsert:function(e){console.log("\u7c98\u8d34\u5185\u5bb9\u690d\u5165\u524d...")}}};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Q.a,{variant:"h4",sx:{paddingTop:"6px",paddingBottom:"6px",color:"orangered"},children:a.steps.productDescriptionTip}),Object(v.jsx)(ne.a,{ref:i,value:n,config:c,tabIndex:1,onBlur:function(e){return r(e)},onChange:function(e){}})]})},ae=n(333),ie={};t.default=function(){console.log("productEdit app running");var e=Object(d.c)((function(e){return e.localization})),t=Object(d.c)((function(e){return e.globalization})),n=Object(l.useState)(f.a[e.locale]),i=Object(u.a)(n,2),h=i[0],g=i[1],O=Object(l.useState)(t.baseData.loginData),x=Object(u.a)(O,1)[0],_=Object(p.f)(),y=Object(l.useState)(0),w=Object(u.a)(y,2),C=w[0],S=w[1],I=Object(l.useState)({panel1:!0,panel2:!1,panel3:!1,panel4:!1}),P=Object(u.a)(I,2),q=P[0],E=P[1],R=new URLSearchParams(location.pathname.replace("/product/update/","")),D=R.get("product_id"),F=R.get("category_id"),N=Object(l.useState)({}),T=Object(u.a)(N,2),z=T[0],Q=T[1],U=Object(l.useState)([]),B=Object(u.a)(U,2),L=B[0],K=B[1],V=Object(l.useState)([]),Y=Object(u.a)(V,2),G=Y[0],J=Y[1],X=Object(l.useState)(""),Z=Object(u.a)(X,2),H=Z[0],W=Z[1],$=Object(l.useState)(0),te=Object(u.a)($,2),ne=te[0],ce=te[1],oe=Object(l.useState)([]),se=Object(u.a)(oe,2),ue=se[0],le=se[1],de=Object(l.useState)([]),pe=Object(u.a)(de,2),be=pe[0],je=pe[1],me=[],fe=Object(l.useRef)(null),he=Object(l.useState)({menuLevel:void 0,menuValue:void 0,menuArr:[],anchorEl:null}),ge=Object(u.a)(he,2),Oe=ge[0],xe=ge[1],_e=Object(b.a)(Object(j.a)().breakpoints.down("md"))?3:6,ye=Object(l.useRef)(null),ve=Object(l.useState)([]),Ae=Object(u.a)(ve,2),ke=Ae[0],we=Ae[1];function Ce(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(s.a)(c.a.mark((function e(t){var n,r,i,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1,n=ma.photoUploadQuery({file_name:t.name,image_bytes:t,group_id:-1}),e.next=4,fetchAPI(n);case 4:if((r=e.sent).response.status){e.next=7;break}return e.abrupt("return",queryResult(!1,h.common.yes));case 7:if(i=ma.photoUploadCheck(r),o=i.response,s=o.status,u=o.result,s){e.next=11;break}return e.abrupt("return",queryResult(!1,u));case 11:return queryResult(!0,h.steps.uploadSuccess),e.abrupt("return",J((function(e){if(e.length>=6)return e;var t=[u.photobank_url].concat(Object(a.a)(e));return ie.main_image={images:t.toString()},t})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(){return(Ie=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ma.productFieldUpdateQuery(t),e.next=3,fetchAPI(n);case 3:if((r=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,h.common.netFail+"\n"+r.response.result));case 6:return a=ma.productFieldUpdateCheck(r),i=a.response,o=i.status,s=i.result,queryResult(o,s),console.log(s),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(){return(Pe=Object(s.a)(c.a.mark((function e(t){var n,r,i,o,s,u,l,d,p,b,j,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ma.productDetailQuery(t),e.next=3,fetchAPI(n);case 3:if((r=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,h.common.netFail+"\n"+r.response.result));case 6:if(i=ma.productDetailCheck(r),o=i.response,s=o.status,u=o.result,s){e.next=10;break}return e.abrupt("return",queryResult(s,u));case 10:if(console.log(u),u){e.next=14;break}return F&&De(F),e.abrupt("return");case 14:l=u.attributes,d=u.main_image,p=u.custom_info,b=u.description,j=u.category_id,l.product_attribute&&((m=Object(a.a)(l.product_attribute)).sort((function(e,t){return e.attribute_id-t.attribute_id})),K(m)),d.images.string&&J(d.images.string),p&&p.custom_contents.custom_content&&le(p.custom_contents.custom_content),b&&W(b),Q(u),j&&De(j);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ma.productCategoryQuery(t),e.next=3,fetchAPI(n);case 3:if((r=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,h.common.netFail+"\n"+r.response.result));case 6:if(a=ma.productCategoryCheck(r),i=a.response,o=i.status,s=i.result,o){e.next=10;break}return e.abrupt("return",queryResult(o,s));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ma.productCategoryAttributeQuery(t),e.next=3,fetchAPI(n);case 3:if((r=e.sent).response.status){e.next=6;break}return e.abrupt("return",queryResult(!1,h.common.netFail+"\n"+r.response.result));case 6:if(a=ma.productCategoryAttributeCheck(r),i=a.response,o=i.status,s=i.result,o){e.next=10;break}return e.abrupt("return",queryResult(o,s));case 10:return console.log(s),e.abrupt("return",we(s));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(s.a)(c.a.mark((function e(t,n){var r,i,o,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=11;break}return e.next=3,qe({cat_id:t});case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:return i=r.level,o=r.parent_ids,me.length||(me=new Array(i)),me[i]=r,i>0&&o&&o.number?De(o.number[0]):je(me),e.abrupt("return");case 11:if(s=be[n-1].child_ids.number.find((function(e){return e.category_id===t}))){e.next=14;break}return e.abrupt("return");case 14:return u=s.child_ids,(l=Object(a.a)(be))[n]=s,n+1<l.length&&(l.length=n+1),u&&(l.push({category_id:0}),me=l,Me(l.length-1)),e.abrupt("return",je(l));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){if(be.length){var e=be[be.length-1].category_id;ce(e),e&&function(e){Re.apply(this,arguments)}({cat_id:e})}}),[be]),Object(l.useEffect)((function(){if(console.log("description changed "),H){if(!z.description)return;if(H.length>6e4)return queryResult(!1,h.form.descriptionOverflow);if(H===z.description)return;ie.description=H.replace(/\n/g,"").trim()}}),[H]),Object(l.useEffect)((function(){g(f.a[e.locale])}),[e.locale]),Object(l.useEffect)((function(){return console.log("I want product editing"),x?D?(function(e){Pe.apply(this,arguments)}({product_id:D}),function(){console.log("I leave product edit"),ie={}}):queryResult(!1,h.steps.productIdError):_("/")}),[]);var Me=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,a,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=me.length?me:be,r=n[t].category_id,a=n[t-1].child_ids.number,i=Object(o.a)(a),e.prev=4,i.s();case 6:if((s=i.n()).done){e.next=16;break}if("object"!==typeof(u=s.value)){e.next=10;break}return e.abrupt("break",16);case 10:return e.next=12,qe({cat_id:u});case 12:l=e.sent,a[a.indexOf(u)]=l;case 14:e.next=6;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:xe({menuLevel:t,menuValue:r,menuArr:a,anchorEl:fe.current});case 25:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target.files).length){e.next=3;break}return e.abrupt("return");case 3:r=Object(o.a)(n),e.prev=4,r.s();case 6:if((a=r.n()).done){e.next=12;break}return i=a.value,e.next=10,Ce(i);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:t.target.files=null;case 21:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(e,t,n){var r=Object(a.a)(t);if(r.length){var i=r.findIndex((function(t){return t[n]===e[n]}));-1!==i?r[i]=e:r.push(e)}else r.push(e);return r};return Object(v.jsxs)(m.a,{title:"Product Edit --\u4ea7\u54c1\u7f16\u8f91",children:[Object(v.jsx)(A,{langPack:h,activeStep:C,setActiveStep:S}),0===C?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k.a,{localization:e,categories:be,menuRef:fe,menuState:Oe,showMenu:Me,closeMenu:function(e){var t=Oe.menuLevel;xe({menuArr:[],anchorEl:null}),console.log(e),void 0!==e&&e!==ne&&De(e,t)}}),Object(v.jsx)(M,{localization:e,finalImageArr:G,imageSizing:{width:30,height:30},photoCols:_e,rowHeight:200,uploaderRef:ye,onDoubleClickImageBtn:function(e){if(G.length<=1)return queryResult(!1,h.steps.mainPhotoRequired);var t=G.filter((function(t){return t!==e}));return ie.main_image={images:t.toString()},J(t)},onPhotoSelected:Ne,langPack:h}),Object(v.jsx)(ee,Object(r.a)(Object(r.a)({},z),{},{langPack:h,expanded:q,setExpanded:E,finalCustomArr:ue,finalAttributeArr:L,allAttributeArr:ke,onAttributeAdd:function(e){console.log(e);var t=e.attr_id,n=e.attr_value,r=e.en_name,i=e.input_type;if(!t)return console.log("\u7f3a\u5c11\u5173\u952eid");var c=[];L.length&&(c=Object(a.a)(L),L.find((function(e){return e.attribute_id===t}))&&(/multi/gi.test(i)?n&&n.attr_value_id&&(c=c.filter((function(e){return e.value_id!==n.attr_value_id}))):(c=c.filter((function(e){return e.attribute_id!==t})),queryResult(!1,h.form.attributeDuplicated))));var o={attribute_id:t,attribute_name:r,value_name:""};n&&(o.value_id=n.attr_value_id,o.value_name=n.en_name);var s=[o].concat(Object(a.a)(c));ie.attributes=s,K(s),console.log(o)},onAttributeClear:function(){var e=[];if(L.length)return e=(e=Object(a.a)(L)).filter((function(e){return e.value_name})),ie.attributes=e,K(e)},onAttributeModified:function(e,t){if(!t)return queryResult(!1,h.steps.modificationNull);if(/attributes|bulk_discount_prices|custom_info/g.test(e)){if("attributes"===e){var n=Te(t,L,"attribute_id");return ie.attributes=n,K(n)}if("custom_info"===e){var a=Te(t,ue,"custom_type");return ie.custom_info={custom_contents:a},le(a)}if("bulk_discount_prices"===e)return"start_quantity",console.log("\u5f85\u90e8\u7f72")}else{if("keywords"===e)return(t=(t=t.split(",")).map((function(e){return e.trim()}))).length>3&&(t.length=3),ie.keywords=String(t),ie;if("subject"===e)return t.length>128?queryResult(!1,h.form.subject):(ie.subject=t,ie)}if(void 0===ie[e]&&(ie[e]=JSON.parse(JSON.stringify(z[e]||{})),"sourcing_trade"===e)){if(ie[e].payment_methods){var i=ie[e].payment_methods.string;ie[e].payment_methods=i}if(ie[e].deliver_periods){var c=ie[e].deliver_periods.deliver_period;ie[e].deliver_periods=c}}var o;return ie[e]="object"!==typeof(o=ie[e])||null===o||Array.isArray(o)?t:Object(r.a)(Object(r.a)({},ie[e]),t),ie}}))]}):1===C?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(re,{localization:e,finalDescription:H,setFinalDescription:W,langPack:h})}):2===C?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ae.a,{langPack:h,productModified:ie,modificationSubmission:function(){if(!Object.keys(ie).length)return queryResult(!1,h.steps.modificationNull);for(var e={category_id:ne,product_id:D,product_type:z.product_type||"sourcing"},t=0,n=Object.entries(ie);t<n.length;t++){var r=Object(u.a)(n[t],2),a=r[0],i=r[1];e[a]="object"==typeof i?JSON.stringify(i):i}console.log(e),function(e){Ie.apply(this,arguments)}(e)}})}):Object(v.jsx)(v.Fragment,{})]})}}}]);
//# sourceMappingURL=12.45ea3128.chunk.js.map